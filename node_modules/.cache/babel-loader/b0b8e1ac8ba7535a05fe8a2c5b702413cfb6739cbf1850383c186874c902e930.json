{"ast":null,"code":"import { reactive, onMounted, onUnmounted } from 'vue';\nimport ClientNotifications from './ClientNotifications.vue';\n// import GovernmentBanner from './components/GovernmentBanner.vue'\nimport SiteLogo from './components/SiteLogo.vue';\n// import MobileMenuToggle from './components/MobileMenuToggle.vue'\nimport MainNavigation from './components/MainNavigation.vue';\n// import HeaderSearch from './components/HeaderSearch.vue'\nimport UserProfileDropdown from './components/UserProfileDropdown.vue';\nimport { useErrorHandler } from '@/composables/useErrorHandler';\nexport default {\n  name: 'ClientHeader',\n  components: {\n    ClientNotifications,\n    // GovernmentBanner,\n    SiteLogo,\n    // MobileMenuToggle,\n    MainNavigation,\n    // HeaderSearch,\n    UserProfileDropdown\n  },\n  props: {\n    userData: {\n      type: Object,\n      default: () => ({\n        userName: 'User',\n        userEmail: 'user@example.com',\n        userAvatar: null,\n        firstName: 'User'\n      })\n    },\n    uiState: {\n      type: Object,\n      default: () => ({\n        showUserDropdown: false,\n        sidebarCollapsed: false,\n        activeMenu: 'dashboard'\n      })\n    },\n    showBreadcrumbs: {\n      type: Boolean,\n      default: true\n    },\n    canRequestDocuments: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: ['sidebar-toggle', 'user-dropdown-toggle', 'menu-action', 'logout', 'error', 'search', 'notification-click'],\n  setup(props, {\n    emit\n  }) {\n    const {\n      handleError\n    } = useErrorHandler();\n\n    // Local reactive state\n    const searchState = reactive({\n      isActive: false,\n      query: ''\n    });\n\n    // Methods\n    const toggleSearch = () => {\n      searchState.isActive = !searchState.isActive;\n      if (searchState.isActive) {\n        // Focus search input on next tick\n        setTimeout(() => {\n          const searchInput = document.querySelector('.search-input');\n          if (searchInput) {\n            searchInput.focus();\n          }\n        }, 100);\n      }\n    };\n    const updateSearchQuery = query => {\n      searchState.query = query;\n    };\n    const performSearch = () => {\n      if (searchState.query.trim()) {\n        emit('search', searchState.query.trim());\n\n        // Close search on mobile after search\n        if (window.innerWidth <= 768) {\n          searchState.isActive = false;\n        }\n      }\n    };\n    const handleSidebarToggle = () => {\n      emit('sidebar-toggle');\n    };\n    const handleUserDropdownToggle = () => {\n      emit('user-dropdown-toggle');\n    };\n    const handleMenuAction = action => {\n      emit('menu-action', action);\n    };\n    const handleLogout = async () => {\n      try {\n        emit('logout');\n      } catch (error) {\n        handleError(error, 'Logout failed');\n      }\n    };\n\n    // Notification event handlers\n    const handleNewNotification = notification => {\n      console.log('New notification received:', notification);\n      // Handle new notification - could show toast, update UI, etc.\n    };\n    const handleNotificationClick = async notification => {\n      console.log('ðŸ”” ClientHeader: Notification clicked:', notification);\n\n      // Ensure we have a valid notification object\n      if (!notification || typeof notification !== 'object') {\n        console.error('Invalid notification object received:', notification);\n        return;\n      }\n      try {\n        // Parse notification data\n        const notificationData = typeof notification.data === 'string' ? JSON.parse(notification.data) : notification.data || {};\n\n        // Log navigation for debugging\n        console.log('ðŸ“Š ClientHeader: Notification data:', notificationData);\n\n        // Additional header-specific logic can go here\n        // For example, updating header state, showing badges, etc.\n      } catch (error) {\n        console.error('âŒ ClientHeader: Error handling notification click:', error);\n        handleError(error, 'Notification click handling failed');\n      }\n\n      // Always emit the event for other components that might need it\n      emit('notification-click', notification);\n    };\n    const handleNotificationError = error => {\n      console.error('Notification error:', error);\n      emit('error', error);\n    };\n\n    // Outside click handling\n    const handleOutsideClick = event => {\n      // Check if click is outside user dropdown\n      if (!event.target.closest('.user-profile')) {\n        if (props.uiState.showUserDropdown) {\n          emit('user-dropdown-toggle');\n        }\n      }\n\n      // Check if click is outside search\n      if (!event.target.closest('.search-container')) {\n        searchState.isActive = false;\n      }\n    };\n\n    // Lifecycle hooks\n    onMounted(() => {\n      document.addEventListener('click', handleOutsideClick);\n    });\n    onUnmounted(() => {\n      document.removeEventListener('click', handleOutsideClick);\n    });\n    return {\n      // State\n      searchState,\n      // Methods\n      toggleSearch,\n      updateSearchQuery,\n      performSearch,\n      handleSidebarToggle,\n      handleUserDropdownToggle,\n      handleMenuAction,\n      handleLogout,\n      handleNewNotification,\n      handleNotificationClick,\n      handleNotificationError\n    };\n  }\n};","map":{"version":3,"names":["reactive","onMounted","onUnmounted","ClientNotifications","SiteLogo","MainNavigation","UserProfileDropdown","useErrorHandler","name","components","props","userData","type","Object","default","userName","userEmail","userAvatar","firstName","uiState","showUserDropdown","sidebarCollapsed","activeMenu","showBreadcrumbs","Boolean","canRequestDocuments","emits","setup","emit","handleError","searchState","isActive","query","toggleSearch","setTimeout","searchInput","document","querySelector","focus","updateSearchQuery","performSearch","trim","window","innerWidth","handleSidebarToggle","handleUserDropdownToggle","handleMenuAction","action","handleLogout","error","handleNewNotification","notification","console","log","handleNotificationClick","notificationData","data","JSON","parse","handleNotificationError","handleOutsideClick","event","target","closest","addEventListener","removeEventListener"],"sources":["D:\\brgy_docu_hub\\BOSFDR\\src\\components\\client\\ClientHeader.vue"],"sourcesContent":["<template>\n  <header class=\"client-header\" role=\"banner\">\n    \n    <!-- Government Banner -->\n    <!-- ill comment this for now and uncomment this soon -->\n    <!-- <GovernmentBanner /> -->\n\n    <!-- Main Header -->\n    <div class=\"main-header\">\n      <div class=\"header-container\">\n        <!-- Left Section: Logo and Navigation -->\n        <div class=\"header-left\">\n          <SiteLogo\n            @navigate=\"handleMenuAction('dashboard')\"\n          />\n        </div>\n\n        <!-- Center Section: Navigation (Desktop) -->\n        <MainNavigation\n          :active-menu=\"uiState.activeMenu\"\n          @menu-action=\"handleMenuAction\"\n        />\n\n        <!-- Right Section: User Actions -->\n        <div class=\"header-actions\">\n          <!-- Search -->\n          <!-- <HeaderSearch\n            :is-active=\"searchState.isActive\"\n            :query=\"searchState.query\"\n            @toggle=\"toggleSearch\"\n            @search=\"performSearch\"\n            @input=\"updateSearchQuery\"\n          /> -->\n\n          <!-- Notifications -->\n          <ClientNotifications\n            @new-notification=\"handleNewNotification\"\n            @notification-click=\"handleNotificationClick\"\n            @error=\"handleNotificationError\"\n          />\n\n          <!-- User Profile -->\n          <UserProfileDropdown\n            :user-data=\"userData\"\n            :is-open=\"uiState.showUserDropdown\"\n            :can-request-documents=\"canRequestDocuments\"\n            @toggle=\"handleUserDropdownToggle\"\n            @menu-action=\"handleMenuAction\"\n            @logout=\"handleLogout\"\n          />\n        </div>\n      </div>\n    </div>\n\n\n  </header>\n</template>\n\n<script>\nimport { reactive, onMounted, onUnmounted } from 'vue'\nimport ClientNotifications from './ClientNotifications.vue'\n// import GovernmentBanner from './components/GovernmentBanner.vue'\nimport SiteLogo from './components/SiteLogo.vue'\n// import MobileMenuToggle from './components/MobileMenuToggle.vue'\nimport MainNavigation from './components/MainNavigation.vue'\n// import HeaderSearch from './components/HeaderSearch.vue'\nimport UserProfileDropdown from './components/UserProfileDropdown.vue'\nimport { useErrorHandler } from '@/composables/useErrorHandler'\n\nexport default {\n  name: 'ClientHeader',\n  components: {\n    ClientNotifications,\n    // GovernmentBanner,\n    SiteLogo,\n    // MobileMenuToggle,\n    MainNavigation,\n    // HeaderSearch,\n    UserProfileDropdown\n  },\n  props: {\n    userData: {\n      type: Object,\n      default: () => ({\n        userName: 'User',\n        userEmail: 'user@example.com',\n        userAvatar: null,\n        firstName: 'User'\n      })\n    },\n    uiState: {\n      type: Object,\n      default: () => ({\n        showUserDropdown: false,\n        sidebarCollapsed: false,\n        activeMenu: 'dashboard'\n      })\n    },\n    showBreadcrumbs: {\n      type: Boolean,\n      default: true\n    },\n    canRequestDocuments: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  emits: [\n    'sidebar-toggle',\n    'user-dropdown-toggle',\n    'menu-action',\n    'logout',\n    'error',\n    'search',\n    'notification-click'\n  ],\n\n  setup(props, { emit }) {\n    const { handleError } = useErrorHandler()\n\n    // Local reactive state\n    const searchState = reactive({\n      isActive: false,\n      query: ''\n    })\n\n    // Methods\n    const toggleSearch = () => {\n      searchState.isActive = !searchState.isActive\n\n      if (searchState.isActive) {\n        // Focus search input on next tick\n        setTimeout(() => {\n          const searchInput = document.querySelector('.search-input')\n          if (searchInput) {\n            searchInput.focus()\n          }\n        }, 100)\n      }\n    }\n\n    const updateSearchQuery = (query) => {\n      searchState.query = query\n    }\n\n    const performSearch = () => {\n      if (searchState.query.trim()) {\n        emit('search', searchState.query.trim())\n\n        // Close search on mobile after search\n        if (window.innerWidth <= 768) {\n          searchState.isActive = false\n        }\n      }\n    }\n\n    const handleSidebarToggle = () => {\n      emit('sidebar-toggle')\n    }\n\n    const handleUserDropdownToggle = () => {\n      emit('user-dropdown-toggle')\n    }\n\n    const handleMenuAction = (action) => {\n      emit('menu-action', action)\n    }\n\n    const handleLogout = async () => {\n      try {\n        emit('logout')\n      } catch (error) {\n        handleError(error, 'Logout failed')\n      }\n    }\n\n    // Notification event handlers\n    const handleNewNotification = (notification) => {\n      console.log('New notification received:', notification)\n      // Handle new notification - could show toast, update UI, etc.\n    }\n\n    const handleNotificationClick = async (notification) => {\n      console.log('ðŸ”” ClientHeader: Notification clicked:', notification)\n\n      // Ensure we have a valid notification object\n      if (!notification || typeof notification !== 'object') {\n        console.error('Invalid notification object received:', notification)\n        return\n      }\n\n      try {\n        // Parse notification data\n        const notificationData = typeof notification.data === 'string'\n          ? JSON.parse(notification.data)\n          : notification.data || {}\n\n        // Log navigation for debugging\n        console.log('ðŸ“Š ClientHeader: Notification data:', notificationData)\n\n        // Additional header-specific logic can go here\n        // For example, updating header state, showing badges, etc.\n\n      } catch (error) {\n        console.error('âŒ ClientHeader: Error handling notification click:', error)\n        handleError(error, 'Notification click handling failed')\n      }\n\n      // Always emit the event for other components that might need it\n      emit('notification-click', notification)\n    }\n\n    const handleNotificationError = (error) => {\n      console.error('Notification error:', error)\n      emit('error', error)\n    }\n\n    // Outside click handling\n    const handleOutsideClick = (event) => {\n      // Check if click is outside user dropdown\n      if (!event.target.closest('.user-profile')) {\n        if (props.uiState.showUserDropdown) {\n          emit('user-dropdown-toggle')\n        }\n      }\n\n      // Check if click is outside search\n      if (!event.target.closest('.search-container')) {\n        searchState.isActive = false\n      }\n    }\n\n    // Lifecycle hooks\n    onMounted(() => {\n      document.addEventListener('click', handleOutsideClick)\n    })\n\n    onUnmounted(() => {\n      document.removeEventListener('click', handleOutsideClick)\n    })\n\n    return {\n      // State\n      searchState,\n\n      // Methods\n      toggleSearch,\n      updateSearchQuery,\n      performSearch,\n      handleSidebarToggle,\n      handleUserDropdownToggle,\n      handleMenuAction,\n      handleLogout,\n      handleNewNotification,\n      handleNotificationClick,\n      handleNotificationError\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Modern Client Header Styles */\n.client-header {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n  background: var(--bg-white, #ffffff);\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);\n  font-family: var(--font-family-sans, 'Source Sans Pro', system-ui, sans-serif);\n  border-bottom: 1px solid var(--border-light, #dfe1e2);\n}\n\n.main-header {\n  background: var(--bg-white, #ffffff);\n  border-bottom: 1px solid var(--border-light, #dfe1e2);\n}\n\n.header-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 64px;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.header-actions {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .header-container {\n    padding: 0 0.75rem;\n    height: 56px;\n  }\n\n  .header-actions {\n    gap: 0.5rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .header-container {\n    padding: 0 0.5rem;\n    height: 52px;\n  }\n\n  .header-left {\n    flex: 1;\n    min-width: 0;\n  }\n\n  .header-actions {\n    gap: 0.25rem;\n    flex-shrink: 0;\n  }\n}\n\n/* Focus styles for accessibility */\n:focus-visible {\n  outline: 3px solid var(--gov-yellow, #ffbe2e);\n  outline-offset: 2px;\n}\n\n/* Screen reader only content */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
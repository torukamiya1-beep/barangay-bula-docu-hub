{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"client-header\",\n  role: \"banner\"\n};\nconst _hoisted_2 = {\n  class: \"main-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-container\"\n};\nconst _hoisted_4 = {\n  class: \"header-left\"\n};\nconst _hoisted_5 = {\n  class: \"header-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SiteLogo = _resolveComponent(\"SiteLogo\");\n  const _component_MainNavigation = _resolveComponent(\"MainNavigation\");\n  const _component_ClientNotifications = _resolveComponent(\"ClientNotifications\");\n  const _component_UserProfileDropdown = _resolveComponent(\"UserProfileDropdown\");\n  return _openBlock(), _createElementBlock(\"header\", _hoisted_1, [_createCommentVNode(\" Government Banner \"), _createCommentVNode(\" ill comment this for now and uncomment this soon \"), _createCommentVNode(\" <GovernmentBanner /> \"), _createCommentVNode(\" Main Header \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Left Section: Logo and Navigation \"), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_SiteLogo, {\n    onNavigate: _cache[0] || (_cache[0] = $event => $setup.handleMenuAction('dashboard'))\n  })]), _createCommentVNode(\" Center Section: Navigation (Desktop) \"), _createVNode(_component_MainNavigation, {\n    \"active-menu\": $props.uiState.activeMenu,\n    onMenuAction: $setup.handleMenuAction\n  }, null, 8 /* PROPS */, [\"active-menu\", \"onMenuAction\"]), _createCommentVNode(\" Right Section: User Actions \"), _createElementVNode(\"div\", _hoisted_5, [_createCommentVNode(\" Search \"), _createCommentVNode(\" <HeaderSearch\\n            :is-active=\\\"searchState.isActive\\\"\\n            :query=\\\"searchState.query\\\"\\n            @toggle=\\\"toggleSearch\\\"\\n            @search=\\\"performSearch\\\"\\n            @input=\\\"updateSearchQuery\\\"\\n          /> \"), _createCommentVNode(\" Notifications \"), _createVNode(_component_ClientNotifications, {\n    onNewNotification: $setup.handleNewNotification,\n    onNotificationClick: $setup.handleNotificationClick,\n    onError: $setup.handleNotificationError\n  }, null, 8 /* PROPS */, [\"onNewNotification\", \"onNotificationClick\", \"onError\"]), _createCommentVNode(\" User Profile \"), _createVNode(_component_UserProfileDropdown, {\n    \"user-data\": $props.userData,\n    \"is-open\": $props.uiState.showUserDropdown,\n    \"can-request-documents\": $props.canRequestDocuments,\n    onToggle: $setup.handleUserDropdownToggle,\n    onMenuAction: $setup.handleMenuAction,\n    onLogout: $setup.handleLogout\n  }, null, 8 /* PROPS */, [\"user-data\", \"is-open\", \"can-request-documents\", \"onToggle\", \"onMenuAction\", \"onLogout\"])])])])]);\n}","map":{"version":3,"names":["class","role","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_SiteLogo","onNavigate","_cache","$event","$setup","handleMenuAction","_component_MainNavigation","$props","uiState","activeMenu","onMenuAction","_hoisted_5","_component_ClientNotifications","onNewNotification","handleNewNotification","onNotificationClick","handleNotificationClick","onError","handleNotificationError","_component_UserProfileDropdown","userData","showUserDropdown","canRequestDocuments","onToggle","handleUserDropdownToggle","onLogout","handleLogout"],"sources":["D:\\brgy_docu_hub\\BOSFDR\\src\\components\\client\\ClientHeader.vue"],"sourcesContent":["<template>\n  <header class=\"client-header\" role=\"banner\">\n    \n    <!-- Government Banner -->\n    <!-- ill comment this for now and uncomment this soon -->\n    <!-- <GovernmentBanner /> -->\n\n    <!-- Main Header -->\n    <div class=\"main-header\">\n      <div class=\"header-container\">\n        <!-- Left Section: Logo and Navigation -->\n        <div class=\"header-left\">\n          <SiteLogo\n            @navigate=\"handleMenuAction('dashboard')\"\n          />\n        </div>\n\n        <!-- Center Section: Navigation (Desktop) -->\n        <MainNavigation\n          :active-menu=\"uiState.activeMenu\"\n          @menu-action=\"handleMenuAction\"\n        />\n\n        <!-- Right Section: User Actions -->\n        <div class=\"header-actions\">\n          <!-- Search -->\n          <!-- <HeaderSearch\n            :is-active=\"searchState.isActive\"\n            :query=\"searchState.query\"\n            @toggle=\"toggleSearch\"\n            @search=\"performSearch\"\n            @input=\"updateSearchQuery\"\n          /> -->\n\n          <!-- Notifications -->\n          <ClientNotifications\n            @new-notification=\"handleNewNotification\"\n            @notification-click=\"handleNotificationClick\"\n            @error=\"handleNotificationError\"\n          />\n\n          <!-- User Profile -->\n          <UserProfileDropdown\n            :user-data=\"userData\"\n            :is-open=\"uiState.showUserDropdown\"\n            :can-request-documents=\"canRequestDocuments\"\n            @toggle=\"handleUserDropdownToggle\"\n            @menu-action=\"handleMenuAction\"\n            @logout=\"handleLogout\"\n          />\n        </div>\n      </div>\n    </div>\n\n\n  </header>\n</template>\n\n<script>\nimport { reactive, onMounted, onUnmounted } from 'vue'\nimport ClientNotifications from './ClientNotifications.vue'\n// import GovernmentBanner from './components/GovernmentBanner.vue'\nimport SiteLogo from './components/SiteLogo.vue'\n// import MobileMenuToggle from './components/MobileMenuToggle.vue'\nimport MainNavigation from './components/MainNavigation.vue'\n// import HeaderSearch from './components/HeaderSearch.vue'\nimport UserProfileDropdown from './components/UserProfileDropdown.vue'\nimport { useErrorHandler } from '@/composables/useErrorHandler'\n\nexport default {\n  name: 'ClientHeader',\n  components: {\n    ClientNotifications,\n    // GovernmentBanner,\n    SiteLogo,\n    // MobileMenuToggle,\n    MainNavigation,\n    // HeaderSearch,\n    UserProfileDropdown\n  },\n  props: {\n    userData: {\n      type: Object,\n      default: () => ({\n        userName: 'User',\n        userEmail: 'user@example.com',\n        userAvatar: null,\n        firstName: 'User'\n      })\n    },\n    uiState: {\n      type: Object,\n      default: () => ({\n        showUserDropdown: false,\n        sidebarCollapsed: false,\n        activeMenu: 'dashboard'\n      })\n    },\n    showBreadcrumbs: {\n      type: Boolean,\n      default: true\n    },\n    canRequestDocuments: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  emits: [\n    'sidebar-toggle',\n    'user-dropdown-toggle',\n    'menu-action',\n    'logout',\n    'error',\n    'search',\n    'notification-click'\n  ],\n\n  setup(props, { emit }) {\n    const { handleError } = useErrorHandler()\n\n    // Local reactive state\n    const searchState = reactive({\n      isActive: false,\n      query: ''\n    })\n\n    // Methods\n    const toggleSearch = () => {\n      searchState.isActive = !searchState.isActive\n\n      if (searchState.isActive) {\n        // Focus search input on next tick\n        setTimeout(() => {\n          const searchInput = document.querySelector('.search-input')\n          if (searchInput) {\n            searchInput.focus()\n          }\n        }, 100)\n      }\n    }\n\n    const updateSearchQuery = (query) => {\n      searchState.query = query\n    }\n\n    const performSearch = () => {\n      if (searchState.query.trim()) {\n        emit('search', searchState.query.trim())\n\n        // Close search on mobile after search\n        if (window.innerWidth <= 768) {\n          searchState.isActive = false\n        }\n      }\n    }\n\n    const handleSidebarToggle = () => {\n      emit('sidebar-toggle')\n    }\n\n    const handleUserDropdownToggle = () => {\n      emit('user-dropdown-toggle')\n    }\n\n    const handleMenuAction = (action) => {\n      emit('menu-action', action)\n    }\n\n    const handleLogout = async () => {\n      try {\n        emit('logout')\n      } catch (error) {\n        handleError(error, 'Logout failed')\n      }\n    }\n\n    // Notification event handlers\n    const handleNewNotification = (notification) => {\n      console.log('New notification received:', notification)\n      // Handle new notification - could show toast, update UI, etc.\n    }\n\n    const handleNotificationClick = async (notification) => {\n      console.log('🔔 ClientHeader: Notification clicked:', notification)\n\n      // Ensure we have a valid notification object\n      if (!notification || typeof notification !== 'object') {\n        console.error('Invalid notification object received:', notification)\n        return\n      }\n\n      try {\n        // Parse notification data\n        const notificationData = typeof notification.data === 'string'\n          ? JSON.parse(notification.data)\n          : notification.data || {}\n\n        // Log navigation for debugging\n        console.log('📊 ClientHeader: Notification data:', notificationData)\n\n        // Additional header-specific logic can go here\n        // For example, updating header state, showing badges, etc.\n\n      } catch (error) {\n        console.error('❌ ClientHeader: Error handling notification click:', error)\n        handleError(error, 'Notification click handling failed')\n      }\n\n      // Always emit the event for other components that might need it\n      emit('notification-click', notification)\n    }\n\n    const handleNotificationError = (error) => {\n      console.error('Notification error:', error)\n      emit('error', error)\n    }\n\n    // Outside click handling\n    const handleOutsideClick = (event) => {\n      // Check if click is outside user dropdown\n      if (!event.target.closest('.user-profile')) {\n        if (props.uiState.showUserDropdown) {\n          emit('user-dropdown-toggle')\n        }\n      }\n\n      // Check if click is outside search\n      if (!event.target.closest('.search-container')) {\n        searchState.isActive = false\n      }\n    }\n\n    // Lifecycle hooks\n    onMounted(() => {\n      document.addEventListener('click', handleOutsideClick)\n    })\n\n    onUnmounted(() => {\n      document.removeEventListener('click', handleOutsideClick)\n    })\n\n    return {\n      // State\n      searchState,\n\n      // Methods\n      toggleSearch,\n      updateSearchQuery,\n      performSearch,\n      handleSidebarToggle,\n      handleUserDropdownToggle,\n      handleMenuAction,\n      handleLogout,\n      handleNewNotification,\n      handleNotificationClick,\n      handleNotificationError\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Modern Client Header Styles */\n.client-header {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n  background: var(--bg-white, #ffffff);\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.1);\n  font-family: var(--font-family-sans, 'Source Sans Pro', system-ui, sans-serif);\n  border-bottom: 1px solid var(--border-light, #dfe1e2);\n}\n\n.main-header {\n  background: var(--bg-white, #ffffff);\n  border-bottom: 1px solid var(--border-light, #dfe1e2);\n}\n\n.header-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 64px;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.header-actions {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .header-container {\n    padding: 0 0.75rem;\n    height: 56px;\n  }\n\n  .header-actions {\n    gap: 0.5rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .header-container {\n    padding: 0 0.5rem;\n    height: 52px;\n  }\n\n  .header-left {\n    flex: 1;\n    min-width: 0;\n  }\n\n  .header-actions {\n    gap: 0.25rem;\n    flex-shrink: 0;\n  }\n}\n\n/* Focus styles for accessibility */\n:focus-visible {\n  outline: 3px solid var(--gov-yellow, #ffbe2e);\n  outline-offset: 2px;\n}\n\n/* Screen reader only content */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n</style>\n"],"mappings":";;EACUA,KAAK,EAAC,eAAe;EAACC,IAAI,EAAC;;;EAO5BD,KAAK,EAAC;AAAa;;EACjBA,KAAK,EAAC;AAAkB;;EAEtBA,KAAK,EAAC;AAAa;;EAanBA,KAAK,EAAC;AAAgB;;;;;;uBAvBjCE,mBAAA,CAsDS,UAtDTC,UAsDS,GApDPC,mBAAA,uBAA0B,EAC1BA,mBAAA,sDAAyD,EACzDA,mBAAA,0BAA6B,EAE7BA,mBAAA,iBAAoB,EACpBC,mBAAA,CA4CM,OA5CNC,UA4CM,GA3CJD,mBAAA,CA0CM,OA1CNE,UA0CM,GAzCJH,mBAAA,uCAA0C,EAC1CC,mBAAA,CAIM,OAJNG,UAIM,GAHJC,YAAA,CAEEC,mBAAA;IADCC,UAAQ,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,MAAA,CAAAC,gBAAgB;QAI/BX,mBAAA,0CAA6C,EAC7CK,YAAA,CAGEO,yBAAA;IAFC,aAAW,EAAEC,MAAA,CAAAC,OAAO,CAACC,UAAU;IAC/BC,YAAW,EAAEN,MAAA,CAAAC;4DAGhBX,mBAAA,iCAAoC,EACpCC,mBAAA,CA0BM,OA1BNgB,UA0BM,GAzBJjB,mBAAA,YAAe,EACfA,mBAAA,mPAMM,EAENA,mBAAA,mBAAsB,EACtBK,YAAA,CAIEa,8BAAA;IAHCC,iBAAgB,EAAET,MAAA,CAAAU,qBAAqB;IACvCC,mBAAkB,EAAEX,MAAA,CAAAY,uBAAuB;IAC3CC,OAAK,EAAEb,MAAA,CAAAc;oFAGVxB,mBAAA,kBAAqB,EACrBK,YAAA,CAOEoB,8BAAA;IANC,WAAS,EAAEZ,MAAA,CAAAa,QAAQ;IACnB,SAAO,EAAEb,MAAA,CAAAC,OAAO,CAACa,gBAAgB;IACjC,uBAAqB,EAAEd,MAAA,CAAAe,mBAAmB;IAC1CC,QAAM,EAAEnB,MAAA,CAAAoB,wBAAwB;IAChCd,YAAW,EAAEN,MAAA,CAAAC,gBAAgB;IAC7BoB,QAAM,EAAErB,MAAA,CAAAsB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
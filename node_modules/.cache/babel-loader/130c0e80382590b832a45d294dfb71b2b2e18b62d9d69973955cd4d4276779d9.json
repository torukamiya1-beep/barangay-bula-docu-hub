{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, Fragment as _Fragment, renderList as _renderList, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"my-requests-page\"\n};\nconst _hoisted_2 = {\n  class: \"page-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-content\"\n};\nconst _hoisted_4 = {\n  class: \"header-actions\"\n};\nconst _hoisted_5 = {\n  class: \"page-content\"\n};\nconst _hoisted_6 = {\n  class: \"filters-section\"\n};\nconst _hoisted_7 = {\n  class: \"filters-container\"\n};\nconst _hoisted_8 = {\n  class: \"search-box\"\n};\nconst _hoisted_9 = {\n  class: \"filter-group\"\n};\nconst _hoisted_10 = {\n  class: \"filter-group\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"loading-container\"\n};\nconst _hoisted_12 = {\n  class: \"error-container\"\n};\nconst _hoisted_13 = {\n  class: \"error-content\"\n};\nconst _hoisted_14 = {\n  class: \"empty-state\"\n};\nconst _hoisted_15 = {\n  class: \"empty-content\"\n};\nconst _hoisted_16 = {\n  class: \"requests-container\"\n};\nconst _hoisted_17 = {\n  class: \"table-controls\"\n};\nconst _hoisted_18 = {\n  class: \"entries-selector\"\n};\nconst _hoisted_19 = {\n  class: \"table-info\"\n};\nconst _hoisted_20 = {\n  class: \"table-wrapper\"\n};\nconst _hoisted_21 = {\n  class: \"requests-table\"\n};\nconst _hoisted_22 = [\"onClick\"];\nconst _hoisted_23 = {\n  class: \"col-id\"\n};\nconst _hoisted_24 = {\n  class: \"request-id\"\n};\nconst _hoisted_25 = {\n  class: \"col-type\"\n};\nconst _hoisted_26 = {\n  class: \"document-type\"\n};\nconst _hoisted_27 = {\n  class: \"col-purpose\"\n};\nconst _hoisted_28 = {\n  class: \"col-status\"\n};\nconst _hoisted_29 = {\n  class: \"status-container\"\n};\nconst _hoisted_30 = {\n  key: 0,\n  class: \"rejection-reason\"\n};\nconst _hoisted_31 = {\n  class: \"text-muted\"\n};\nconst _hoisted_32 = {\n  class: \"col-date\"\n};\nconst _hoisted_33 = {\n  class: \"col-amount\"\n};\nconst _hoisted_34 = {\n  class: \"amount\"\n};\nconst _hoisted_35 = {\n  class: \"col-progress\"\n};\nconst _hoisted_36 = {\n  class: \"progress-container\"\n};\nconst _hoisted_37 = {\n  class: \"progress-bar\"\n};\nconst _hoisted_38 = {\n  class: \"progress-text\"\n};\nconst _hoisted_39 = {\n  class: \"col-actions\"\n};\nconst _hoisted_40 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_41 = [\"onClick\"];\nconst _hoisted_42 = [\"onClick\"];\nconst _hoisted_43 = [\"onClick\"];\nconst _hoisted_44 = {\n  key: 0,\n  class: \"pagination\"\n};\nconst _hoisted_45 = [\"disabled\"];\nconst _hoisted_46 = {\n  class: \"page-numbers\"\n};\nconst _hoisted_47 = [\"onClick\"];\nconst _hoisted_48 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[14] || (_cache[14] = _createElementVNode(\"div\", {\n    class: \"header-main\"\n  }, [_createElementVNode(\"h1\", {\n    class: \"page-title\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-file-alt\"\n  }), _createTextVNode(\" My Document Requests \")]), _createElementVNode(\"p\", {\n    class: \"page-description\"\n  }, \" Track and manage your document requests \")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" Ill comment this for now  \"), _createCommentVNode(\" <button class=\\\"new-request-btn\\\" @click=\\\"createNewRequest\\\">\\n            <i class=\\\"fas fa-plus\\\"></i>\\n            New Request\\n          </button> \"), _createElementVNode(\"button\", {\n    class: \"back-btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))\n  }, _cache[13] || (_cache[13] = [_createElementVNode(\"i\", {\n    class: \"fas fa-arrow-left\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Back to Dashboard \")]))])])]), _createCommentVNode(\" Page Content \"), _createElementVNode(\"div\", _hoisted_5, [_createCommentVNode(\" Filters and Search \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[15] || (_cache[15] = _createElementVNode(\"i\", {\n    class: \"fas fa-search\"\n  }, null, -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.searchQuery = $event),\n    type: \"text\",\n    placeholder: \"Search requests...\",\n    onInput: _cache[2] || (_cache[2] = (...args) => $options.handleSearch && $options.handleSearch(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.searchQuery]])]), _createCommentVNode(\" ill comment this for now maybe gonna need this next month \"), _createCommentVNode(\" <div class=\\\"filter-group\\\">\\n          <select v-model=\\\"statusFilter\\\" @change=\\\"applyFilters\\\">\\n            <option value=\\\"\\\">All Status</option>\\n            <option value=\\\"pending\\\">Pending</option>\\n            <option value=\\\"under_review\\\">Under Review</option>\\n            <option value=\\\"approved\\\">Approved</option>\\n            <option value=\\\"processing\\\">Processing</option>\\n            <option value=\\\"ready_for_pickup\\\">Ready for Pickup</option>\\n            <option value=\\\"completed\\\">Completed</option>\\n            <option value=\\\"rejected\\\">Rejected</option>\\n          </select>\\n        </div> \"), _createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.typeFilter = $event),\n    onChange: _cache[4] || (_cache[4] = (...args) => $options.applyFilters && $options.applyFilters(...args))\n  }, _cache[16] || (_cache[16] = [_createElementVNode(\"option\", {\n    value: \"\"\n  }, \"All Types\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Barangay Clearance\"\n  }, \"Barangay Clearance\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Cedula\"\n  }, \"Cedula\", -1 /* HOISTED */)]), 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $data.typeFilter]])]), _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.sortBy = $event),\n    onChange: _cache[6] || (_cache[6] = (...args) => $options.applyFilters && $options.applyFilters(...args))\n  }, _cache[17] || (_cache[17] = [_createElementVNode(\"option\", {\n    value: \"created_at_desc\"\n  }, \"Newest First\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"created_at_asc\"\n  }, \"Oldest First\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"status\"\n  }, \"By Status\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"type\"\n  }, \"By Type\", -1 /* HOISTED */)]), 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $data.sortBy]])])])]), _createCommentVNode(\" Loading State \"), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _cache[18] || (_cache[18] = [_createElementVNode(\"div\", {\n    class: \"loading-spinner\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-spinner fa-spin\"\n  })], -1 /* HOISTED */), _createElementVNode(\"p\", null, \"Loading your requests...\", -1 /* HOISTED */)]))) : $data.error ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Error State \"), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_cache[20] || (_cache[20] = _createElementVNode(\"i\", {\n    class: \"fas fa-exclamation-triangle\"\n  }, null, -1 /* HOISTED */)), _cache[21] || (_cache[21] = _createElementVNode(\"h3\", null, \"Unable to Load Requests\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, _toDisplayString($data.error), 1 /* TEXT */), _createElementVNode(\"button\", {\n    class: \"retry-btn\",\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.loadRequests && $options.loadRequests(...args))\n  }, _cache[19] || (_cache[19] = [_createElementVNode(\"i\", {\n    class: \"fas fa-redo\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Try Again \")]))])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $options.filteredRequests.length === 0 && !$data.loading ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" Empty State \"), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_cache[23] || (_cache[23] = _createElementVNode(\"i\", {\n    class: \"fas fa-inbox\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"h3\", null, _toDisplayString($data.searchQuery || $data.statusFilter || $data.typeFilter ? 'No Matching Requests' : 'No Requests Yet'), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($data.searchQuery || $data.statusFilter || $data.typeFilter ? 'Try adjusting your search or filters' : 'Start by creating your first document request'), 1 /* TEXT */), !$data.searchQuery && !$data.statusFilter && !$data.typeFilter ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    class: \"create-first-btn\",\n    onClick: _cache[8] || (_cache[8] = (...args) => $options.createNewRequest && $options.createNewRequest(...args))\n  }, _cache[22] || (_cache[22] = [_createElementVNode(\"i\", {\n    class: \"fas fa-plus\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Create Your First Request \")]))) : _createCommentVNode(\"v-if\", true)])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 3\n  }, [_createCommentVNode(\" Requests List \"), _createElementVNode(\"div\", _hoisted_16, [_createCommentVNode(\" Table Controls \"), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", null, \"Show\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.itemsPerPage = $event),\n    onChange: _cache[10] || (_cache[10] = (...args) => $options.handleItemsPerPageChange && $options.handleItemsPerPageChange(...args))\n  }, _cache[24] || (_cache[24] = [_createElementVNode(\"option\", {\n    value: \"10\"\n  }, \"10\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"25\"\n  }, \"25\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"50\"\n  }, \"50\", -1 /* HOISTED */)]), 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $data.itemsPerPage]]), _cache[26] || (_cache[26] = _createElementVNode(\"span\", null, \"entries\", -1 /* HOISTED */))]), _createElementVNode(\"div\", _hoisted_19, \" Showing \" + _toDisplayString($options.getShowingStart()) + \" to \" + _toDisplayString($options.getShowingEnd()) + \" of \" + _toDisplayString($options.filteredRequests.length) + \" entries \", 1 /* TEXT */)]), _createCommentVNode(\" Requests Table \"), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"table\", _hoisted_21, [_cache[31] || (_cache[31] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    class: \"col-id\"\n  }, \"Request ID\"), _createElementVNode(\"th\", {\n    class: \"col-type\"\n  }, \"Document Type\"), _createElementVNode(\"th\", {\n    class: \"col-purpose\"\n  }, \"Purpose\"), _createElementVNode(\"th\", {\n    class: \"col-status\"\n  }, \"Status\"), _createElementVNode(\"th\", {\n    class: \"col-date\"\n  }, \"Submitted\"), _createElementVNode(\"th\", {\n    class: \"col-amount\"\n  }, \"Amount\"), _createElementVNode(\"th\", {\n    class: \"col-progress\"\n  }, \"Progress\"), _createElementVNode(\"th\", {\n    class: \"col-actions\"\n  }, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.paginatedRequests, request => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: request.id,\n      class: \"request-row\",\n      onClick: $event => $options.viewRequestDetails(request.id)\n    }, [_createElementVNode(\"td\", _hoisted_23, [_createElementVNode(\"span\", _hoisted_24, \"#\" + _toDisplayString(request.id.toString().padStart(6, '0')), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"i\", {\n      class: _normalizeClass($options.getDocumentIcon(request.document_type))\n    }, null, 2 /* CLASS */), _createElementVNode(\"span\", null, _toDisplayString(request.document_type), 1 /* TEXT */)])]), _createElementVNode(\"td\", _hoisted_27, [_createElementVNode(\"span\", null, _toDisplayString(request.purpose_category || 'Not specified'), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"span\", {\n      class: _normalizeClass([\"status-badge\", $options.getStatusClass(request.status)])\n    }, _toDisplayString($options.formatStatus(request.status)), 3 /* TEXT, CLASS */), _createCommentVNode(\" Show rejection reason if rejected \"), request.status === 'rejected' && request.rejection_reason ? (_openBlock(), _createElementBlock(\"div\", _hoisted_30, [_cache[27] || (_cache[27] = _createElementVNode(\"i\", {\n      class: \"fas fa-info-circle text-warning\"\n    }, null, -1 /* HOISTED */)), _createElementVNode(\"small\", _hoisted_31, _toDisplayString(request.rejection_reason), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"td\", _hoisted_32, [_createElementVNode(\"span\", null, _toDisplayString($options.formatDate(request.created_at)), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_33, [_createElementVNode(\"span\", _hoisted_34, \"₱\" + _toDisplayString($options.formatCurrency(request.total_fee)), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_35, [_createElementVNode(\"div\", _hoisted_36, [_createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"div\", {\n      class: \"progress-fill\",\n      style: _normalizeStyle({\n        width: $options.getProgressPercentage(request.status) + '%'\n      })\n    }, null, 4 /* STYLE */)]), _createElementVNode(\"div\", _hoisted_38, _toDisplayString($options.getProgressText(request.status)), 1 /* TEXT */)])]), _createElementVNode(\"td\", _hoisted_39, [_createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"button\", {\n      class: \"action-btn view-btn\",\n      onClick: _withModifiers($event => $options.viewRequestDetails(request.id), [\"stop\"]),\n      title: \"View Details\"\n    }, [...(_cache[28] || (_cache[28] = [_createElementVNode(\"i\", {\n      class: \"fas fa-eye\"\n    }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_41), $options.canCancelRequest(request.status) ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      class: \"action-btn cancel-btn\",\n      onClick: _withModifiers($event => $options.cancelRequest(request.id), [\"stop\"]),\n      title: \"Cancel Request\"\n    }, [...(_cache[29] || (_cache[29] = [_createElementVNode(\"i\", {\n      class: \"fas fa-times\"\n    }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_42)) : _createCommentVNode(\"v-if\", true), $options.needsPayment(request) ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      class: \"action-btn pay-btn\",\n      onClick: _withModifiers($event => $options.processPayment(request.id), [\"stop\"]),\n      title: \"Pay Now\"\n    }, [...(_cache[30] || (_cache[30] = [_createElementVNode(\"i\", {\n      class: \"fas fa-credit-card\"\n    }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_43)) : _createCommentVNode(\"v-if\", true)])])], 8 /* PROPS */, _hoisted_22);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" Pagination \"), $options.totalPages > 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_44, [_createElementVNode(\"button\", {\n    class: \"page-btn\",\n    disabled: $data.currentPage === 1,\n    onClick: _cache[11] || (_cache[11] = $event => $options.changePage($data.currentPage - 1))\n  }, _cache[32] || (_cache[32] = [_createElementVNode(\"i\", {\n    class: \"fas fa-chevron-left\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" Previous \")]), 8 /* PROPS */, _hoisted_45), _createElementVNode(\"div\", _hoisted_46, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.visiblePages, page => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: page,\n      class: _normalizeClass([\"page-number\", {\n        active: page === $data.currentPage\n      }]),\n      onClick: $event => $options.changePage(page)\n    }, _toDisplayString(page), 11 /* TEXT, CLASS, PROPS */, _hoisted_47);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"button\", {\n    class: \"page-btn\",\n    disabled: $data.currentPage === $options.totalPages,\n    onClick: _cache[12] || (_cache[12] = $event => $options.changePage($data.currentPage + 1))\n  }, _cache[33] || (_cache[33] = [_createTextVNode(\" Next \"), _createElementVNode(\"i\", {\n    class: \"fas fa-chevron-right\"\n  }, null, -1 /* HOISTED */)]), 8 /* PROPS */, _hoisted_48)])) : _createCommentVNode(\"v-if\", true)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" ill comment the stats for now because its not needed \"), _createCommentVNode(\" Summary Stats \"), _createCommentVNode(\" <div class=\\\"summary-stats\\\">\\n      <div class=\\\"stats-grid\\\">\\n        <div class=\\\"stat-card\\\">\\n          <div class=\\\"stat-icon\\\">\\n            <i class=\\\"fas fa-file-alt\\\"></i>\\n          </div>\\n          <div class=\\\"stat-content\\\">\\n            <h3>{{ totalRequests }}</h3>\\n            <p>Total Requests</p>\\n          </div>\\n        </div>\\n        \\n        <div class=\\\"stat-card\\\">\\n          <div class=\\\"stat-icon pending\\\">\\n            <i class=\\\"fas fa-clock\\\"></i>\\n          </div>\\n          <div class=\\\"stat-content\\\">\\n            <h3>{{ pendingCount }}</h3>\\n            <p>Pending</p>\\n          </div>\\n        </div>\\n        \\n        <div class=\\\"stat-card\\\">\\n          <div class=\\\"stat-icon completed\\\">\\n            <i class=\\\"fas fa-check-circle\\\"></i>\\n          </div>\\n          <div class=\\\"stat-content\\\">\\n            <h3>{{ completedCount }}</h3>\\n            <p>Completed</p>\\n          </div>\\n        </div>\\n        \\n        <div class=\\\"stat-card\\\">\\n          <div class=\\\"stat-icon\\\">\\n            <i class=\\\"fas fa-peso-sign\\\"></i>\\n          </div>\\n          <div class=\\\"stat-content\\\">\\n            <h3>₱{{ formatCurrency(totalSpent) }}</h3>\\n            <p>Total Spent</p>\\n          </div>\\n        </div>\\n      </div>\\n    </div> \")]), _createCommentVNode(\" End page-content \")]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","onClick","_cache","args","$options","goBack","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","$data","searchQuery","$event","type","placeholder","onInput","handleSearch","_hoisted_9","typeFilter","onChange","applyFilters","value","_hoisted_10","sortBy","loading","_hoisted_11","error","_Fragment","key","_hoisted_12","_hoisted_13","_toDisplayString","loadRequests","filteredRequests","length","_hoisted_14","_hoisted_15","statusFilter","createNewRequest","_hoisted_16","_hoisted_17","_hoisted_18","itemsPerPage","handleItemsPerPageChange","_hoisted_19","getShowingStart","getShowingEnd","_hoisted_20","_hoisted_21","_renderList","paginatedRequests","request","id","viewRequestDetails","_hoisted_23","_hoisted_24","toString","padStart","_hoisted_25","_hoisted_26","_normalizeClass","getDocumentIcon","document_type","_hoisted_27","purpose_category","_hoisted_28","_hoisted_29","getStatusClass","status","formatStatus","rejection_reason","_hoisted_30","_hoisted_31","_hoisted_32","formatDate","created_at","_hoisted_33","_hoisted_34","formatCurrency","total_fee","_hoisted_35","_hoisted_36","_hoisted_37","style","_normalizeStyle","width","getProgressPercentage","_hoisted_38","getProgressText","_hoisted_39","_hoisted_40","_withModifiers","title","canCancelRequest","cancelRequest","needsPayment","processPayment","totalPages","_hoisted_44","disabled","currentPage","changePage","_hoisted_46","visiblePages","page","active","_hoisted_47"],"sources":["D:\\brgy_docu_hub\\BOSFDR\\src\\components\\client\\MyRequests.vue"],"sourcesContent":["<template>\n  <div class=\"my-requests-page\">\n    <!-- Header -->\n    <div class=\"page-header\">\n      <div class=\"header-content\">\n        <div class=\"header-main\">\n          <h1 class=\"page-title\">\n            <i class=\"fas fa-file-alt\"></i>\n            My Document Requests\n          </h1>\n          <p class=\"page-description\">\n            Track and manage your document requests\n          </p>\n        </div>\n        <div class=\"header-actions\">\n          <!-- Ill comment this for now  -->\n          <!-- <button class=\"new-request-btn\" @click=\"createNewRequest\">\n            <i class=\"fas fa-plus\"></i>\n            New Request\n          </button> -->\n          <button class=\"back-btn\" @click=\"goBack\">\n            <i class=\"fas fa-arrow-left\"></i>\n            Back to Dashboard\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Page Content -->\n    <div class=\"page-content\">\n      <!-- Filters and Search -->\n    <div class=\"filters-section\">\n      <div class=\"filters-container\">\n        <div class=\"search-box\">\n          <i class=\"fas fa-search\"></i>\n          <input\n            v-model=\"searchQuery\"\n            type=\"text\"\n            placeholder=\"Search requests...\"\n            @input=\"handleSearch\"\n          />\n        </div>\n        \n        <!-- ill comment this for now maybe gonna need this next month -->\n        <!-- <div class=\"filter-group\">\n          <select v-model=\"statusFilter\" @change=\"applyFilters\">\n            <option value=\"\">All Status</option>\n            <option value=\"pending\">Pending</option>\n            <option value=\"under_review\">Under Review</option>\n            <option value=\"approved\">Approved</option>\n            <option value=\"processing\">Processing</option>\n            <option value=\"ready_for_pickup\">Ready for Pickup</option>\n            <option value=\"completed\">Completed</option>\n            <option value=\"rejected\">Rejected</option>\n          </select>\n        </div> -->\n\n        <div class=\"filter-group\">\n          <select v-model=\"typeFilter\" @change=\"applyFilters\">\n            <option value=\"\">All Types</option>\n            <option value=\"Barangay Clearance\">Barangay Clearance</option>\n            <option value=\"Cedula\">Cedula</option>\n          </select>\n        </div>\n\n        <div class=\"filter-group\">\n          <select v-model=\"sortBy\" @change=\"applyFilters\">\n            <option value=\"created_at_desc\">Newest First</option>\n            <option value=\"created_at_asc\">Oldest First</option>\n            <option value=\"status\">By Status</option>\n            <option value=\"type\">By Type</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <!-- Loading State -->\n    <div v-if=\"loading\" class=\"loading-container\">\n      <div class=\"loading-spinner\">\n        <i class=\"fas fa-spinner fa-spin\"></i>\n      </div>\n      <p>Loading your requests...</p>\n    </div>\n\n    <!-- Error State -->\n    <div v-else-if=\"error\" class=\"error-container\">\n      <div class=\"error-content\">\n        <i class=\"fas fa-exclamation-triangle\"></i>\n        <h3>Unable to Load Requests</h3>\n        <p>{{ error }}</p>\n        <button class=\"retry-btn\" @click=\"loadRequests\">\n          <i class=\"fas fa-redo\"></i>\n          Try Again\n        </button>\n      </div>\n    </div>\n\n    <!-- Empty State -->\n    <div v-else-if=\"filteredRequests.length === 0 && !loading\" class=\"empty-state\">\n      <div class=\"empty-content\">\n        <i class=\"fas fa-inbox\"></i>\n        <h3>{{ searchQuery || statusFilter || typeFilter ? 'No Matching Requests' : 'No Requests Yet' }}</h3>\n        <p>\n          {{ searchQuery || statusFilter || typeFilter \n            ? 'Try adjusting your search or filters' \n            : 'Start by creating your first document request' }}\n        </p>\n        <button v-if=\"!searchQuery && !statusFilter && !typeFilter\" class=\"create-first-btn\" @click=\"createNewRequest\">\n          <i class=\"fas fa-plus\"></i>\n          Create Your First Request\n        </button>\n      </div>\n    </div>\n\n    <!-- Requests List -->\n    <div v-else class=\"requests-container\">\n      <!-- Table Controls -->\n      <div class=\"table-controls\">\n        <div class=\"entries-selector\">\n          <label>Show</label>\n          <select v-model=\"itemsPerPage\" @change=\"handleItemsPerPageChange\">\n            <option value=\"10\">10</option>\n            <option value=\"25\">25</option>\n            <option value=\"50\">50</option>\n          </select>\n          <span>entries</span>\n        </div>\n        <div class=\"table-info\">\n          Showing {{ getShowingStart() }} to {{ getShowingEnd() }} of {{ filteredRequests.length }} entries\n        </div>\n      </div>\n\n      <!-- Requests Table -->\n      <div class=\"table-wrapper\">\n        <table class=\"requests-table\">\n          <thead>\n            <tr>\n              <th class=\"col-id\">Request ID</th>\n              <th class=\"col-type\">Document Type</th>\n              <th class=\"col-purpose\">Purpose</th>\n              <th class=\"col-status\">Status</th>\n              <th class=\"col-date\">Submitted</th>\n              <th class=\"col-amount\">Amount</th>\n              <th class=\"col-progress\">Progress</th>\n              <th class=\"col-actions\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr \n              v-for=\"request in paginatedRequests\"\n              :key=\"request.id\"\n              class=\"request-row\"\n              @click=\"viewRequestDetails(request.id)\"\n            >\n              <td class=\"col-id\">\n                <span class=\"request-id\">#{{ request.id.toString().padStart(6, '0') }}</span>\n              </td>\n              <td class=\"col-type\">\n                <div class=\"document-type\">\n                  <i :class=\"getDocumentIcon(request.document_type)\"></i>\n                  <span>{{ request.document_type }}</span>\n                </div>\n              </td>\n              <td class=\"col-purpose\">\n                <span>{{ request.purpose_category || 'Not specified' }}</span>\n              </td>\n              <td class=\"col-status\">\n                <div class=\"status-container\">\n                  <span class=\"status-badge\" :class=\"getStatusClass(request.status)\">\n                    {{ formatStatus(request.status) }}\n                  </span>\n                  <!-- Show rejection reason if rejected -->\n                  <div v-if=\"request.status === 'rejected' && request.rejection_reason\" class=\"rejection-reason\">\n                    <i class=\"fas fa-info-circle text-warning\"></i>\n                    <small class=\"text-muted\">{{ request.rejection_reason }}</small>\n                  </div>\n                </div>\n              </td>\n              <td class=\"col-date\">\n                <span>{{ formatDate(request.created_at) }}</span>\n              </td>\n              <td class=\"col-amount\">\n                <span class=\"amount\">₱{{ formatCurrency(request.total_fee) }}</span>\n              </td>\n              <td class=\"col-progress\">\n                <div class=\"progress-container\">\n                  <div class=\"progress-bar\">\n                    <div \n                      class=\"progress-fill\" \n                      :style=\"{ width: getProgressPercentage(request.status) + '%' }\"\n                    ></div>\n                  </div>\n                  <div class=\"progress-text\">\n                    {{ getProgressText(request.status) }}\n                  </div>\n                </div>\n              </td>\n              <td class=\"col-actions\">\n                <div class=\"action-buttons\">\n                  <button class=\"action-btn view-btn\" @click.stop=\"viewRequestDetails(request.id)\" title=\"View Details\">\n                    <i class=\"fas fa-eye\"></i>\n                  </button>\n                  \n                  <button \n                    v-if=\"canCancelRequest(request.status)\"\n                    class=\"action-btn cancel-btn\"\n                    @click.stop=\"cancelRequest(request.id)\"\n                    title=\"Cancel Request\"\n                  >\n                    <i class=\"fas fa-times\"></i>\n                  </button>\n\n                  <button \n                    v-if=\"needsPayment(request)\"\n                    class=\"action-btn pay-btn\"\n                    @click.stop=\"processPayment(request.id)\"\n                    title=\"Pay Now\"\n                  >\n                    <i class=\"fas fa-credit-card\"></i>\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <!-- Pagination -->\n      <div v-if=\"totalPages > 1\" class=\"pagination\">\n        <button \n          class=\"page-btn\"\n          :disabled=\"currentPage === 1\"\n          @click=\"changePage(currentPage - 1)\"\n        >\n          <i class=\"fas fa-chevron-left\"></i>\n          Previous\n        </button>\n        \n        <div class=\"page-numbers\">\n          <button\n            v-for=\"page in visiblePages\"\n            :key=\"page\"\n            class=\"page-number\"\n            :class=\"{ active: page === currentPage }\"\n            @click=\"changePage(page)\"\n          >\n            {{ page }}\n          </button>\n        </div>\n        \n        <button \n          class=\"page-btn\"\n          :disabled=\"currentPage === totalPages\"\n          @click=\"changePage(currentPage + 1)\"\n        >\n          Next\n          <i class=\"fas fa-chevron-right\"></i>\n        </button>\n      </div>\n    </div>\n\n    <!-- ill comment the stats for now because its not needed -->\n    <!-- Summary Stats -->\n    <!-- <div class=\"summary-stats\">\n      <div class=\"stats-grid\">\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">\n            <i class=\"fas fa-file-alt\"></i>\n          </div>\n          <div class=\"stat-content\">\n            <h3>{{ totalRequests }}</h3>\n            <p>Total Requests</p>\n          </div>\n        </div>\n        \n        <div class=\"stat-card\">\n          <div class=\"stat-icon pending\">\n            <i class=\"fas fa-clock\"></i>\n          </div>\n          <div class=\"stat-content\">\n            <h3>{{ pendingCount }}</h3>\n            <p>Pending</p>\n          </div>\n        </div>\n        \n        <div class=\"stat-card\">\n          <div class=\"stat-icon completed\">\n            <i class=\"fas fa-check-circle\"></i>\n          </div>\n          <div class=\"stat-content\">\n            <h3>{{ completedCount }}</h3>\n            <p>Completed</p>\n          </div>\n        </div>\n        \n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">\n            <i class=\"fas fa-peso-sign\"></i>\n          </div>\n          <div class=\"stat-content\">\n            <h3>₱{{ formatCurrency(totalSpent) }}</h3>\n            <p>Total Spent</p>\n          </div>\n        </div>\n      </div>\n    </div> -->\n    </div> <!-- End page-content -->\n\n  </div>\n</template>\n\n<script>\nimport documentRequestService from '@/services/documentRequestService';\nimport notificationService from '@/services/notificationService';\nimport paymentService from '@/services/paymentService';\nimport unifiedAuthService from '@/services/unifiedAuthService';\n\nexport default {\n  name: 'MyRequests',\n  data() {\n    return {\n      requests: [],\n      loading: true,\n      error: null,\n      \n      // Filters\n      searchQuery: '',\n      statusFilter: '',\n      typeFilter: '',\n      sortBy: 'created_at_desc',\n      \n      // Pagination\n      currentPage: 1,\n      itemsPerPage: 10,\n      \n      // Search debounce\n      searchTimeout: null\n    };\n  },\n  computed: {\n    filteredRequests() {\n      // Ensure requests is always an array\n      if (!Array.isArray(this.requests)) {\n        return [];\n      }\n      let filtered = [...this.requests];\n      \n      // Apply search filter\n      if (this.searchQuery) {\n        const query = this.searchQuery.toLowerCase();\n        filtered = filtered.filter(request => \n          request.document_type.toLowerCase().includes(query) ||\n          request.purpose_category?.toLowerCase().includes(query) ||\n          request.id.toString().includes(query)\n        );\n      }\n      \n      // Apply status filter\n      if (this.statusFilter) {\n        filtered = filtered.filter(request => request.status === this.statusFilter);\n      }\n      \n      // Apply type filter\n      if (this.typeFilter) {\n        filtered = filtered.filter(request => request.document_type === this.typeFilter);\n      }\n      \n      // Apply sorting\n      filtered.sort((a, b) => {\n        switch (this.sortBy) {\n          case 'created_at_desc':\n            return new Date(b.created_at) - new Date(a.created_at);\n          case 'created_at_asc':\n            return new Date(a.created_at) - new Date(b.created_at);\n          case 'status':\n            return a.status.localeCompare(b.status);\n          case 'type':\n            return a.document_type.localeCompare(b.document_type);\n          default:\n            return 0;\n        }\n      });\n      \n      return filtered;\n    },\n    \n    paginatedRequests() {\n      const start = (this.currentPage - 1) * this.itemsPerPage;\n      const end = start + this.itemsPerPage;\n      return this.filteredRequests.slice(start, end);\n    },\n    \n    totalPages() {\n      return Math.ceil(this.filteredRequests.length / this.itemsPerPage);\n    },\n    \n    visiblePages() {\n      const pages = [];\n      const start = Math.max(1, this.currentPage - 2);\n      const end = Math.min(this.totalPages, this.currentPage + 2);\n      \n      for (let i = start; i <= end; i++) {\n        pages.push(i);\n      }\n      \n      return pages;\n    },\n    \n    totalRequests() {\n      return this.requests.length;\n    },\n    \n    pendingCount() {\n      return this.requests.filter(r => ['pending', 'under_review'].includes(r.status)).length;\n    },\n    \n    completedCount() {\n      return this.requests.filter(r => r.status === 'completed').length;\n    },\n    \n    totalSpent() {\n      return this.requests\n        .filter(r => r.status === 'completed')\n        .reduce((sum, r) => sum + parseFloat(r.total_fee || 0), 0);\n    }\n  },\n  async mounted() {\n    await this.loadRequests();\n    await this.initializeRealTimeFeatures();\n  },\n\n  beforeUnmount() {\n    this.cleanupRealTimeFeatures();\n  },\n  methods: {\n    async loadRequests() {\n      try {\n        this.loading = true;\n        this.error = null;\n\n        const response = await documentRequestService.getMyRequests();\n\n        // Handle the nested response structure: response.data.requests\n        if (response && response.data && response.data.requests && Array.isArray(response.data.requests)) {\n          this.requests = response.data.requests;\n        } else if (response && response.data && Array.isArray(response.data)) {\n          this.requests = response.data;\n        } else if (response && Array.isArray(response)) {\n          this.requests = response;\n        } else {\n          this.requests = [];\n          console.warn('API response does not contain array data:', response);\n        }\n\n      } catch (error) {\n        console.error('Error loading requests:', error);\n        this.error = error.response?.data?.message || 'Failed to load requests';\n        this.requests = []; // Ensure requests is always an array even on error\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    handleSearch() {\n      // Debounce search\n      if (this.searchTimeout) {\n        clearTimeout(this.searchTimeout);\n      }\n      \n      this.searchTimeout = setTimeout(() => {\n        this.currentPage = 1; // Reset to first page when searching\n      }, 300);\n    },\n\n    applyFilters() {\n      this.currentPage = 1; // Reset to first page when filtering\n    },\n\n    changePage(page) {\n      if (page >= 1 && page <= this.totalPages) {\n        this.currentPage = page;\n      }\n    },\n\n    handleItemsPerPageChange() {\n      this.currentPage = 1; // Reset to first page when changing items per page\n    },\n\n    getShowingStart() {\n      if (this.filteredRequests.length === 0) return 0;\n      return (this.currentPage - 1) * this.itemsPerPage + 1;\n    },\n\n    getShowingEnd() {\n      const end = this.currentPage * this.itemsPerPage;\n      return Math.min(end, this.filteredRequests.length);\n    },\n\n    getDocumentIcon(type) {\n      const icons = {\n        'Barangay Clearance': 'fas fa-certificate',\n        'Cedula': 'fas fa-id-card'\n      };\n      return icons[type] || 'fas fa-file-alt';\n    },\n\n    getStatusClass(status) {\n      const classes = {\n        'pending': 'status-pending',\n        'under_review': 'status-review',\n        'additional_info_required': 'status-info-required',\n        'approved': 'status-approved',\n        'payment_pending': 'status-payment-pending',\n        'payment_confirmed': 'status-payment-confirmed',\n        'payment_failed': 'status-payment-failed',\n        'processing': 'status-processing',\n        'ready_for_pickup': 'status-ready',\n        'pickup_scheduled': 'status-pickup-scheduled',\n        'completed': 'status-completed',\n        'rejected': 'status-rejected',\n        'cancelled': 'status-cancelled'\n      };\n      return classes[status] || 'status-unknown';\n    },\n\n    formatStatus(status) {\n      const statusMap = {\n        'pending': 'Pending',\n        'under_review': 'Under Review',\n        'additional_info_required': 'Additional Info Required',\n        'approved': 'Approved',\n        'payment_pending': 'Payment Pending',\n        'payment_confirmed': 'Payment Confirmed',\n        'payment_failed': 'Payment Failed',\n        'processing': 'Processing',\n        'ready_for_pickup': 'Ready for Pickup',\n        'pickup_scheduled': 'Pickup Scheduled',\n        'completed': 'Completed',\n        'rejected': 'Rejected',\n        'cancelled': 'Cancelled'\n      };\n      return statusMap[status] || status;\n    },\n\n    getProgressPercentage(status) {\n      const percentages = {\n        'pending': 10,\n        'under_review': 25,\n        'additional_info_required': 20,\n        'approved': 40,\n        'payment_pending': 45,\n        'payment_confirmed': 50,\n        'payment_failed': 45,\n        'processing': 75,\n        'ready_for_pickup': 90,\n        'pickup_scheduled': 95,\n        'completed': 100,\n        'rejected': 0,\n        'cancelled': 0\n      };\n      return percentages[status] || 0;\n    },\n\n    getProgressText(status) {\n      const texts = {\n        'pending': 'Waiting for review',\n        'under_review': 'Being reviewed',\n        'additional_info_required': 'Additional information required',\n        'approved': 'Approved, awaiting payment',\n        'payment_pending': 'Payment required',\n        'payment_confirmed': 'Payment confirmed, processing document',\n        'payment_failed': 'Payment failed, please retry',\n        'processing': 'Document being prepared',\n        'ready_for_pickup': 'Ready for pickup',\n        'pickup_scheduled': 'Pickup scheduled',\n        'completed': 'Request completed',\n        'rejected': 'Request rejected',\n        'cancelled': 'Request cancelled'\n      };\n      return texts[status] || 'Unknown status';\n    },\n\n    canCancelRequest(status) {\n      // Enhanced cancellation rules - allow cancellation until payment is confirmed\n      const cancellableStatuses = [\n        'pending',\n        'under_review',\n        'additional_info_required',\n        'approved',\n        'payment_pending',\n        'payment_failed'\n      ];\n      return cancellableStatuses.includes(status);\n    },\n\n    needsPayment(request) {\n      // Check if request needs payment based on enhanced workflow\n      const paymentRequiredStatuses = ['approved', 'payment_pending', 'payment_failed'];\n      const unpaidStatuses = ['pending', 'failed', null, undefined, ''];\n\n      const needsPayment = paymentRequiredStatuses.includes(request.status) &&\n                          unpaidStatuses.includes(request.payment_status) &&\n                          request.payment_method_id && // Must have a payment method selected\n                          request.is_online_payment; // Only show for online payment methods\n\n      return needsPayment;\n    },\n\n    formatDate(dateString) {\n      if (!dateString) return 'N/A';\n      return new Date(dateString).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric'\n      });\n    },\n\n    formatCurrency(amount) {\n      return parseFloat(amount || 0).toFixed(2);\n    },\n\n    viewRequestDetails(requestId) {\n      this.$router.push({ name: 'RequestDetails', params: { id: requestId } });\n    },\n\n    async cancelRequest(requestId) {\n      // Enhanced cancellation with reason input\n      const reason = prompt(\n        'Please provide a reason for cancelling this request (optional):',\n        ''\n      );\n\n      // If user clicked cancel on the prompt, don't proceed\n      if (reason === null) return;\n\n      // Confirm cancellation\n      if (!confirm('Are you sure you want to cancel this request?')) return;\n\n      try {\n        // Find the request to get its current status for debugging\n        const currentRequest = this.requests.find(r => r.id === requestId);\n        console.log('🚫 Cancelling request:', {\n          requestId,\n          reason,\n          currentStatus: currentRequest?.status,\n          currentRequest: currentRequest\n        });\n\n        const cancellationReason = reason.trim() || 'Cancelled by user';\n        await documentRequestService.cancelRequest(requestId, cancellationReason);\n\n        this.$toast?.success('Request cancelled successfully. Administrators have been notified.');\n        await this.loadRequests(); // Reload requests\n\n        console.log('✅ Request cancelled successfully');\n      } catch (error) {\n        console.error('❌ Error cancelling request:', error);\n        console.error('❌ Error details:', {\n          status: error.response?.status,\n          statusText: error.response?.statusText,\n          data: error.response?.data,\n          message: error.message\n        });\n\n        // Show more specific error messages\n        if (error.response?.data?.message) {\n          this.$toast?.error(error.response.data.message);\n        } else if (error.message?.includes('cannot be cancelled')) {\n          this.$toast?.error('This request cannot be cancelled at its current stage');\n        } else {\n          this.$toast?.error('Failed to cancel request. Please try again.');\n        }\n      }\n    },\n\n    async processPayment(requestId) {\n      try {\n        // Find the request to get payment details\n        const request = this.requests.find(r => r.id === requestId);\n        if (!request) {\n          this.showToast('Error', 'Request not found', 'error');\n          console.error('Request not found:', requestId);\n          return;\n        }\n\n        console.log('Processing payment for request:', request);\n\n        // Check if request has a payment method selected\n        if (!request.payment_method_id) {\n          this.showToast('Error', 'No payment method selected for this request. Please contact support.', 'error');\n          console.error('No payment method ID for request:', request);\n          return;\n        }\n\n        // Check if it's an online payment method\n        if (!request.is_online_payment) {\n          this.showToast('Info', 'This request uses in-person payment. Please pay at the barangay office.', 'info');\n          return;\n        }\n\n        // Show loading state\n        this.showToast('Info', 'Initiating payment...', 'info');\n\n        // Get current user data from unifiedAuthService\n        const currentUser = unifiedAuthService.getCurrentUser();\n        console.log('Current user:', currentUser);\n\n        // Prepare payment data\n        const paymentData = {\n          request_id: requestId,\n          payment_method_id: request.payment_method_id,\n          customer_email: currentUser?.email || request.email\n        };\n\n        console.log('Payment data:', paymentData);\n\n        // Initiate payment through PayMongo\n        const response = await paymentService.initiatePayment(paymentData);\n\n        console.log('Payment response:', response);\n\n        if (response && response.success && response.data && response.data.checkout_url) {\n          // Redirect to PayMongo checkout page\n          this.showToast('Success', 'Redirecting to payment page...', 'success');\n          paymentService.redirectToPayMongo(response.data.checkout_url);\n        } else {\n          console.error('Invalid payment response:', response);\n          throw new Error(response?.message || 'Failed to initiate payment - invalid response');\n        }\n\n      } catch (error) {\n        console.error('Payment initiation error:', error);\n        console.error('Error details:', {\n          message: error.message,\n          response: error.response?.data,\n          status: error.response?.status,\n          config: error.config\n        });\n\n        let errorMessage = 'Failed to initiate payment';\n\n        if (error.response?.data?.message) {\n          errorMessage = error.response.data.message;\n        } else if (error.response?.status === 401) {\n          errorMessage = 'Please log in to make a payment';\n        } else if (error.response?.status === 404) {\n          errorMessage = 'Payment service not found. Please contact support.';\n        } else if (error.response?.status >= 500) {\n          errorMessage = 'Payment service is temporarily unavailable. Please try again later.';\n        } else if (error.message) {\n          errorMessage = error.message;\n        }\n\n        this.showToast('Error', errorMessage, 'error');\n      }\n    },\n\n    createNewRequest() {\n      this.$router.push({ name: 'NewDocumentRequest' });\n    },\n\n    goBack() {\n      this.$router.push({ name: 'ClientDashboard' });\n    },\n\n    showToast(title, message, type = 'info') {\n      // Log to console for debugging\n      console.log(`[${type.toUpperCase()}] ${title}: ${message}`);\n\n      // Create a simple toast notification\n      const toast = document.createElement('div');\n      toast.className = `toast-notification toast-${type}`;\n      toast.innerHTML = `\n        <div class=\"toast-header\">\n          <strong>${title}</strong>\n          <button type=\"button\" class=\"toast-close\" onclick=\"this.parentElement.parentElement.remove()\">×</button>\n        </div>\n        <div class=\"toast-body\">${message}</div>\n      `;\n\n      // Add toast styles if not already added\n      if (!document.getElementById('toast-styles')) {\n        const styles = document.createElement('style');\n        styles.id = 'toast-styles';\n        styles.textContent = `\n          .toast-notification {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            min-width: 300px;\n            background: white;\n            border-radius: 8px;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            z-index: 9999;\n            animation: slideIn 0.3s ease;\n          }\n          .toast-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 12px 16px 8px;\n            border-bottom: 1px solid #e9ecef;\n          }\n          .toast-body {\n            padding: 8px 16px 12px;\n            color: #6c757d;\n          }\n          .toast-close {\n            background: none;\n            border: none;\n            font-size: 18px;\n            cursor: pointer;\n            color: #6c757d;\n          }\n          .toast-success { border-left: 4px solid #28a745; }\n          .toast-error { border-left: 4px solid #dc3545; }\n          .toast-info { border-left: 4px solid #17a2b8; }\n          .toast-warning { border-left: 4px solid #ffc107; }\n          @keyframes slideIn {\n            from { transform: translateX(100%); opacity: 0; }\n            to { transform: translateX(0); opacity: 1; }\n          }\n        `;\n        document.head.appendChild(styles);\n      }\n\n      // Add toast to page\n      document.body.appendChild(toast);\n\n      // Auto-remove after 5 seconds\n      setTimeout(() => {\n        if (toast.parentElement) {\n          toast.style.animation = 'slideIn 0.3s ease reverse';\n          setTimeout(() => toast.remove(), 300);\n        }\n      }, 5000);\n    },\n\n    // Real-time features\n    async initializeRealTimeFeatures() {\n      console.log('Initializing real-time features for MyRequests');\n\n      try {\n        // Initialize notification service for client\n        await notificationService.init('client');\n\n        // Listen for status change notifications\n        notificationService.on('notification', this.handleRealTimeNotification);\n        notificationService.on('status_change', this.handleStatusChange);\n        notificationService.on('request_update', this.handleRequestUpdate);\n      } catch (error) {\n        console.error('Failed to initialize real-time features:', error);\n      }\n    },\n\n    cleanupRealTimeFeatures() {\n      console.log('Cleaning up real-time features for MyRequests');\n\n      // Remove notification listeners\n      notificationService.off('notification', this.handleRealTimeNotification);\n      notificationService.off('status_change', this.handleStatusChange);\n      notificationService.off('request_update', this.handleRequestUpdate);\n\n      // Cleanup notification service\n      notificationService.cleanup();\n    },\n\n    handleRealTimeNotification(notification) {\n      console.log('Real-time notification received:', notification);\n\n      // Handle different notification types\n      switch (notification.type) {\n        case 'status_change':\n          this.handleStatusChange(notification);\n          break;\n        case 'request_update':\n          this.handleRequestUpdate(notification);\n          break;\n        default:\n          console.log('Unhandled notification type:', notification.type);\n      }\n    },\n\n    handleStatusChange(notification) {\n      console.log('Request status changed:', notification);\n\n      // Find and update the request in the list\n      const requestIndex = this.requests.findIndex(req => req.id === notification.data?.request_id);\n      if (requestIndex !== -1) {\n        // Update the request status\n        this.requests[requestIndex].status = notification.data.new_status;\n\n        // Show notification to user\n        this.showStatusChangeNotification(notification);\n\n        // Refresh the full request data to get updated details\n        this.loadRequests();\n      }\n    },\n\n    handleRequestUpdate(notification) {\n      console.log('Request updated:', notification);\n\n      // Refresh requests to show updates\n      this.loadRequests();\n    },\n\n    showStatusChangeNotification(notification) {\n      const { data } = notification;\n      const statusMessages = {\n        'approved': '✅ Your request has been approved!',\n        'rejected': '❌ Your request has been rejected.',\n        'processing': '⚙️ Your document is being processed.',\n        'ready_for_pickup': '📋 Your document is ready for pickup!',\n        'completed': '🎉 Your request has been completed!'\n      };\n\n      const message = statusMessages[data.new_status] || `Status updated to ${data.new_status}`;\n\n      // Show browser notification if permission granted\n      if ('Notification' in window && Notification.permission === 'granted') {\n        new Notification(`Request ${data.request_number}`, {\n          body: message,\n          icon: '/favicon.ico',\n          tag: `request-${data.request_id}`\n        });\n      }\n\n      // You can also show an in-app toast notification here\n      console.log(`🔔 ${message}`);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.my-requests-page {\n  padding: 0;\n  max-width: none;\n  margin: 0;\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.page-header {\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n  background: #f7fafc;\n  margin: 0;\n  padding: 2rem 2rem 1rem 2rem;\n  border-bottom: 1px solid #e2e8f0;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  -webkit-backdrop-filter: blur(10px);\n  flex-shrink: 0;\n}\n\n.page-content {\n  flex: 1;\n  padding: 0 2rem 2rem 2rem;\n}\n\n.header-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 2rem;\n}\n\n.page-title {\n  font-size: 1.75rem;\n  font-weight: 700;\n  color: #1a365d;\n  margin-bottom: 0.5rem;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n.page-title i {\n  color: #3182ce;\n}\n\n.page-description {\n  font-size: 1rem;\n  color: #4a5568;\n  margin: 0;\n}\n\n.header-actions {\n  display: flex;\n  gap: 1rem;\n}\n\n.new-request-btn,\n.back-btn {\n  padding: 0.75rem 1.5rem;\n  border-radius: 0.5rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  border: none;\n}\n\n.new-request-btn {\n  background: #38a169;\n  color: white;\n}\n\n.new-request-btn:hover {\n  background: #2f855a;\n}\n\n.back-btn {\n  background: #e2e8f0;\n  color: #4a5568;\n}\n\n.back-btn:hover {\n  background: #cbd5e0;\n}\n\n.filters-section {\n  background: white;\n  border-radius: 1rem;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n.filters-container {\n  display: grid;\n  grid-template-columns: 2fr 1fr 1fr 1fr;\n  gap: 1rem;\n  align-items: center;\n}\n\n.search-box {\n  position: relative;\n  display: flex;\n  align-items: center;\n}\n\n.search-box i {\n  position: absolute;\n  left: 1rem;\n  color: #a0aec0;\n  z-index: 1;\n}\n\n.search-box input {\n  width: 100%;\n  padding: 0.75rem 1rem 0.75rem 2.5rem;\n  border: 1px solid #e2e8f0;\n  border-radius: 0.5rem;\n  font-size: 0.875rem;\n  transition: all 0.2s;\n}\n\n.search-box input:focus {\n  outline: none;\n  border-color: #3182ce;\n  box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1);\n}\n\n.filter-group select {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #e2e8f0;\n  border-radius: 0.5rem;\n  font-size: 0.875rem;\n  background: white;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.filter-group select:focus {\n  outline: none;\n  border-color: #3182ce;\n  box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1);\n}\n\n.loading-container,\n.error-container,\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 4rem 2rem;\n  text-align: center;\n}\n\n.loading-spinner i {\n  font-size: 2rem;\n  color: #3182ce;\n  margin-bottom: 1rem;\n}\n\n.error-content,\n.empty-content {\n  max-width: 400px;\n}\n\n.error-content i,\n.empty-content i {\n  font-size: 3rem;\n  color: #a0aec0;\n  margin-bottom: 1rem;\n}\n\n.error-content h3,\n.empty-content h3 {\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: #2d3748;\n  margin-bottom: 0.5rem;\n}\n\n.error-content p,\n.empty-content p {\n  color: #718096;\n  margin-bottom: 1.5rem;\n}\n\n.retry-btn,\n.create-first-btn {\n  background: #3182ce;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 0.5rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  transition: all 0.2s;\n}\n\n.retry-btn:hover,\n.create-first-btn:hover {\n  background: #2c5aa0;\n}\n\n.requests-container {\n  margin-bottom: 3rem;\n}\n\n/* Table Controls */\n.table-controls {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  padding: 1rem;\n  background: white;\n  border-radius: 0.5rem;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n.entries-selector {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n  color: #4a5568;\n}\n\n.entries-selector select {\n  padding: 0.25rem 0.5rem;\n  border: 1px solid #d1d5db;\n  border-radius: 0.375rem;\n  background: white;\n  color: #374151;\n  font-size: 0.9rem;\n}\n\n.table-info {\n  font-size: 0.9rem;\n  color: #6b7280;\n}\n\n/* Table Wrapper */\n.table-wrapper {\n  background: white;\n  border-radius: 0.75rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n  margin-bottom: 2rem;\n}\n\n/* Requests Table */\n.requests-table {\n  width: 100%;\n  border-collapse: collapse;\n  font-size: 0.9rem;\n}\n\n.requests-table thead {\n  background: #f8fafc;\n  border-bottom: 2px solid #e2e8f0;\n}\n\n.requests-table th {\n  padding: 1rem 0.75rem;\n  text-align: left;\n  font-weight: 600;\n  color: #374151;\n  font-size: 0.875rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n\n.requests-table tbody tr {\n  border-bottom: 1px solid #f1f5f9;\n  transition: background-color 0.2s;\n  cursor: pointer;\n}\n\n.requests-table tbody tr:hover {\n  background: #f8fafc;\n}\n\n.requests-table tbody tr:last-child {\n  border-bottom: none;\n}\n\n.requests-table td {\n  padding: 1rem 0.75rem;\n  vertical-align: middle;\n}\n\n/* Column Specific Styles */\n.col-id {\n  width: 10%;\n  min-width: 100px;\n}\n\n.col-type {\n  width: 15%;\n  min-width: 150px;\n}\n\n.col-purpose {\n  width: 15%;\n  min-width: 120px;\n}\n\n.col-status {\n  width: 15%;\n  min-width: 130px;\n}\n\n.col-date {\n  width: 12%;\n  min-width: 110px;\n}\n\n.col-amount {\n  width: 10%;\n  min-width: 90px;\n}\n\n.col-progress {\n  width: 15%;\n  min-width: 120px;\n}\n\n.col-actions {\n  width: 8%;\n  min-width: 100px;\n}\n\n/* Table Cell Content */\n.request-id {\n  font-family: 'Courier New', monospace;\n  font-weight: 600;\n  color: #3182ce;\n  font-size: 0.85rem;\n}\n\n.document-type {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-weight: 500;\n  color: #2d3748;\n}\n\n.document-type i {\n  color: #3182ce;\n  width: 16px;\n}\n\n.status-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n.amount {\n  font-weight: 600;\n  color: #059669;\n}\n\n.progress-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n.progress-bar {\n  width: 100%;\n  height: 6px;\n  background: #e2e8f0;\n  border-radius: 3px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: #3182ce;\n  transition: width 0.3s ease;\n}\n\n.progress-text {\n  font-size: 0.75rem;\n  color: #6b7280;\n  font-weight: 500;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 0.25rem;\n  justify-content: flex-start;\n}\n\n.action-btn {\n  padding: 0.375rem;\n  border: none;\n  border-radius: 0.375rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 2rem;\n  height: 2rem;\n  font-size: 0.8rem;\n}\n\n.view-btn {\n  background: #e6f3ff;\n  color: #3182ce;\n}\n\n.view-btn:hover {\n  background: #3182ce;\n  color: white;\n}\n\n.cancel-btn {\n  background: #fef2f2;\n  color: #dc2626;\n}\n\n.cancel-btn:hover {\n  background: #dc2626;\n  color: white;\n}\n\n.pay-btn {\n  background: #f0fdf4;\n  color: #059669;\n}\n\n.pay-btn:hover {\n  background: #059669;\n  color: white;\n}\n\n.status-badge {\n  padding: 0.25rem 0.75rem;\n  border-radius: 1rem;\n  font-size: 0.75rem;\n  font-weight: 500;\n  text-transform: uppercase;\n  letter-spacing: 0.025em;\n}\n\n.status-pending { background: #fef5e7; color: #d69e2e; }\n.status-review { background: #ebf8ff; color: #3182ce; }\n.status-info-required { background: #fff7ed; color: #ea580c; }\n.status-approved { background: #f0fff4; color: #38a169; }\n.status-payment-pending { background: #fef3c7; color: #d97706; }\n.status-payment-confirmed { background: #ecfdf5; color: #059669; }\n.status-payment-failed { background: #fef2f2; color: #dc2626; }\n.status-processing { background: #e6fffa; color: #319795; }\n.status-ready { background: #f0f9ff; color: #0ea5e9; }\n.status-pickup-scheduled { background: #f3e8ff; color: #9333ea; }\n.status-completed { background: #f0fff4; color: #22c55e; }\n.status-rejected { background: #fef2f2; color: #ef4444; }\n.status-cancelled { background: #f8fafc; color: #64748b; }\n.status-unknown { background: #f1f5f9; color: #475569; }\n\n.rejection-reason {\n  margin-top: 0.25rem;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n}\n\n.rejection-reason i {\n  font-size: 0.75rem;\n  color: #f59e0b;\n}\n\n.rejection-reason small {\n  font-size: 0.75rem;\n  line-height: 1.4;\n  color: #6b7280;\n}\n\n/* Old card styles removed - now using table layout */\n\n/* Button styles now defined in table section above */\n\n.pagination {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n  margin-top: 2rem;\n}\n\n.page-btn {\n  padding: 0.5rem 1rem;\n  border: 1px solid #e2e8f0;\n  background: white;\n  color: #4a5568;\n  border-radius: 0.375rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.page-btn:hover:not(:disabled) {\n  background: #f7fafc;\n  border-color: #cbd5e0;\n}\n\n.page-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.page-numbers {\n  display: flex;\n  gap: 0.25rem;\n}\n\n.page-number {\n  width: 2.5rem;\n  height: 2.5rem;\n  border: 1px solid #e2e8f0;\n  background: white;\n  color: #4a5568;\n  border-radius: 0.375rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.page-number:hover {\n  background: #f7fafc;\n  border-color: #cbd5e0;\n}\n\n.page-number.active {\n  background: #3182ce;\n  color: white;\n  border-color: #3182ce;\n}\n\n.summary-stats {\n  background: white;\n  border-radius: 1rem;\n  padding: 2rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n}\n\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1.5rem;\n}\n\n.stat-card {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem;\n  background: #f7fafc;\n  border-radius: 0.75rem;\n}\n\n.stat-icon {\n  width: 3rem;\n  height: 3rem;\n  background: #3182ce;\n  color: white;\n  border-radius: 0.75rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.25rem;\n}\n\n.stat-icon.pending {\n  background: #d69e2e;\n}\n\n.stat-icon.completed {\n  background: #38a169;\n}\n\n.stat-content h3 {\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: #1a365d;\n  margin-bottom: 0.25rem;\n}\n\n.stat-content p {\n  color: #718096;\n  font-size: 0.875rem;\n  margin: 0;\n}\n\n@media (max-width: 1024px) {\n  .filters-container {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n\n  .table-controls {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 1rem;\n  }\n\n  .table-info {\n    text-align: center;\n  }\n\n  .requests-table {\n    font-size: 0.85rem;\n  }\n\n  .requests-table th,\n  .requests-table td {\n    padding: 0.75rem 0.5rem;\n  }\n\n  .col-purpose,\n  .col-progress {\n    display: none;\n  }\n\n  .stats-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (max-width: 768px) {\n  .page-header {\n    padding: 1.5rem 1rem 1rem 1rem;\n  }\n\n  .page-content {\n    padding: 0 1rem 1rem 1rem;\n  }\n\n  .page-title {\n    font-size: 1.5rem;\n    line-height: 1.3;\n    text-align: center;\n    margin-bottom: 0.5rem;\n  }\n\n  .page-title i {\n    font-size: 1.25rem;\n    margin-right: 0.5rem;\n    color: #0d6efd;\n  }\n\n  .page-description {\n    font-size: 0.9rem;\n    text-align: center;\n    line-height: 1.4;\n    margin-top: 0.5rem;\n  }\n\n  .header-content {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 1rem;\n  }\n\n  .header-actions {\n    justify-content: flex-start;\n    gap: 0.75rem;\n  }\n\n  .back-btn {\n    padding: 0.75rem 1rem;\n    font-size: 0.9rem;\n    min-height: 44px; /* Touch-friendly size */\n    border-radius: 6px;\n  }\n\n  .filters-section {\n    padding: 1rem 0;\n  }\n\n  .search-input {\n    font-size: 1rem;\n    padding: 0.75rem;\n  }\n\n  .filter-select {\n    font-size: 0.9rem;\n    padding: 0.5rem;\n  }\n\n  .table-wrapper {\n    overflow-x: auto;\n  }\n\n  .requests-table {\n    min-width: 700px;\n  }\n\n  .action-buttons {\n    flex-direction: column;\n    gap: 0.125rem;\n  }\n\n  .action-btn {\n    width: 1.75rem;\n    height: 1.75rem;\n    font-size: 0.75rem;\n  }\n\n  .stats-grid {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n\n  .stat-card {\n    padding: 1rem;\n  }\n\n  .stat-number {\n    font-size: 1.5rem;\n  }\n\n  .stat-label {\n    font-size: 0.8rem;\n  }\n\n  .pagination {\n    flex-wrap: wrap;\n    gap: 0.5rem;\n    padding: 1rem 0;\n  }\n\n  .page-numbers {\n    order: -1;\n    width: 100%;\n    justify-content: center;\n  }\n\n  .page-btn {\n    padding: 0.4rem 0.8rem;\n    font-size: 0.9rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .page-header {\n    padding: 1rem 0.75rem 0.75rem 0.75rem;\n  }\n\n  .page-content {\n    padding: 0 0.75rem 0.75rem 0.75rem;\n  }\n\n  .page-title {\n    font-size: 1.3rem;\n    line-height: 1.2;\n    text-align: center;\n    margin-bottom: 0.75rem;\n    word-wrap: break-word;\n  }\n\n  .page-title i {\n    font-size: 1.1rem;\n    margin-right: 0.5rem;\n    color: #0d6efd;\n  }\n\n  .page-description {\n    font-size: 0.85rem;\n    text-align: center;\n    line-height: 1.4;\n    padding: 0 0.5rem;\n    margin-top: 0.5rem;\n  }\n\n  .header-actions {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .back-btn {\n    width: 100%;\n    justify-content: center;\n    min-height: 48px; /* Larger touch target for phones */\n    padding: 0.875rem 1rem;\n    font-size: 1rem;\n    border-radius: 8px;\n  }\n\n  .back-btn i {\n    font-size: 1.1rem;\n    margin-right: 0.5rem;\n  }\n\n  .filters-container {\n    gap: 0.75rem;\n  }\n\n  .search-input {\n    font-size: 16px; /* Prevents zoom on iOS */\n  }\n\n  .table-controls {\n    padding: 0.75rem;\n    font-size: 0.85rem;\n  }\n\n  .entries-selector select {\n    font-size: 0.85rem;\n  }\n\n  .requests-table {\n    font-size: 0.8rem;\n    min-width: 600px;\n  }\n\n  .requests-table th,\n  .requests-table td {\n    padding: 0.5rem 0.375rem;\n  }\n\n  .col-date {\n    display: none;\n  }\n\n  .request-id {\n    font-size: 0.75rem;\n  }\n\n  .document-type span {\n    display: none;\n  }\n\n  .document-type i {\n    font-size: 1rem;\n  }\n\n  .status-badge {\n    font-size: 0.65rem;\n    padding: 0.125rem 0.5rem;\n  }\n\n  .action-btn {\n    width: 1.5rem;\n    height: 1.5rem;\n    font-size: 0.7rem;\n  }\n\n  .stat-card {\n    padding: 0.75rem;\n  }\n\n  .stat-number {\n    font-size: 1.3rem;\n  }\n\n  .stat-label {\n    font-size: 0.75rem;\n  }\n}\n\n/* Touch device optimizations */\n@media (hover: none) and (pointer: coarse) {\n  .back-btn,\n  .btn-primary,\n  .btn-outline-primary,\n  .btn-outline-secondary {\n    min-height: 48px;\n    padding: 0.875rem 1rem;\n    border-radius: 8px;\n    transition: all 0.2s ease;\n  }\n\n  .back-btn:active,\n  .btn:active {\n    transform: scale(0.95);\n    background-color: rgba(0, 123, 255, 0.1);\n  }\n\n  .request-card {\n    transition: transform 0.2s ease;\n  }\n\n  .request-card:active {\n    transform: scale(0.98);\n  }\n}\n\n/* Prevent zoom on input focus (iOS Safari) */\n@media (max-width: 768px) {\n  input[type=\"text\"],\n  input[type=\"email\"],\n  input[type=\"search\"],\n  select {\n    font-size: 16px !important; /* Prevents zoom on iOS */\n  }\n\n  .search-input {\n    font-size: 16px !important;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
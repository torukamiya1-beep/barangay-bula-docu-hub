{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, computed, onMounted, onUnmounted, nextTick } from 'vue';\nimport { useRouter } from 'vue-router';\nimport ClientHeader from './ClientHeader.vue';\nimport DocumentServicesSection from './components/DocumentServicesSection.vue';\nimport { useUserData } from '@/composables/useUserData';\nimport { useDocumentTypes } from '@/composables/useDocumentTypes';\nimport { useUserStats } from '@/composables/useUserStats';\nimport { useUIState } from '@/composables/useUIState';\nimport { useNavigation } from '@/composables/useNavigation';\nimport { useErrorHandler } from '@/composables/useErrorHandler';\nexport default {\n  name: 'NewDocumentRequest',\n  components: {\n    ClientHeader,\n    DocumentServicesSection\n  },\n  setup() {\n    const router = useRouter();\n    const servicesSection = ref(null);\n\n    // Help Dialog State\n    const showHelpDialog = ref(false);\n\n    // Help Data\n    const helpData = ref({\n      requirements: [{\n        id: 1,\n        text: 'Valid government-issued ID (original and photocopy)'\n      }, {\n        id: 2,\n        text: 'Proof of residency (utility bill, lease agreement, etc.)'\n      }, {\n        id: 3,\n        text: 'Completed application form with accurate information'\n      }, {\n        id: 4,\n        text: 'Payment for processing fees'\n      }, {\n        id: 5,\n        text: 'Additional documents as specified for each document type'\n      }],\n      processSteps: [{\n        number: 1,\n        title: 'Choose Document Type',\n        description: 'Select the document you need from the available services'\n      }, {\n        number: 2,\n        title: 'Fill Application Form',\n        description: 'Complete all required fields with accurate information'\n      }, {\n        number: 3,\n        title: 'Upload Requirements',\n        description: 'Attach all necessary documents and supporting files'\n      }, {\n        number: 4,\n        title: 'Submit & Pay',\n        description: 'Review your application and proceed with payment'\n      }, {\n        number: 5,\n        title: 'Track Progress',\n        description: 'Monitor your request status and receive notifications'\n      }, {\n        number: 6,\n        title: 'Collect Document',\n        description: 'Pick up your processed document at the barangay office'\n      }]\n    });\n\n    // Composables\n    const {\n      userData,\n      loadUserData,\n      resetUserData\n    } = useUserData();\n    const {\n      documentTypes,\n      loading,\n      error,\n      loadDocumentTypes\n    } = useDocumentTypes();\n    const {\n      userStats,\n      loadUserStats\n    } = useUserStats();\n    const {\n      uiState,\n      toggleSidebar,\n      toggleUserDropdown\n    } = useUIState();\n    const {\n      navigateToRoute,\n      scrollToElement\n    } = useNavigation();\n    const {\n      handleError\n    } = useErrorHandler();\n\n    // Computed properties for header\n    const headerUserData = computed(() => {\n      console.log('=== NewDocumentRequest - userData from composable ===');\n      console.log('userData:', userData);\n      console.log('userData keys:', Object.keys(userData));\n      const result = {\n        userName: userData.userName,\n        userEmail: userData.userEmail,\n        userAvatar: userData.userAvatar,\n        firstName: userData.firstName,\n        lastName: userData.lastName,\n        middleName: userData.middleName,\n        suffix: userData.suffix,\n        profile: userData.profile\n      };\n      console.log('headerUserData result:', result);\n      return result;\n    });\n    const headerUIState = computed(() => ({\n      showUserDropdown: uiState.showUserDropdown,\n      sidebarCollapsed: uiState.sidebarCollapsed,\n      activeMenu: 'services'\n    }));\n\n    // Account status computed property\n    const isAccountActive = computed(() => {\n      const unifiedAuthService = require('@/services/unifiedAuthService').default;\n      const currentUser = unifiedAuthService.getCurrentUser();\n\n      // Check if account is verified (OTP/email verification)\n      const isAccountVerified = currentUser?.status === 'active';\n\n      // For document requests, we need to check residency verification status\n      // If user has pending residency verification, they should still be able to request documents\n      // Only block if account is not verified at all\n      return isAccountVerified;\n    });\n\n    // Residency verification status\n    const residencyStatus = ref({\n      status: 'loading',\n      canRequestDocuments: false,\n      message: 'Checking residency verification status...',\n      documents: []\n    });\n\n    // Load residency verification status\n    const loadResidencyStatus = async () => {\n      try {\n        const residencyVerificationService = require('@/services/residencyVerificationService').default;\n        const status = await residencyVerificationService.getResidencyVerificationStatus();\n        residencyStatus.value = status;\n      } catch (error) {\n        console.error('Error loading residency status:', error);\n        residencyStatus.value = {\n          status: 'error',\n          canRequestDocuments: false,\n          message: 'Unable to check residency verification status',\n          documents: []\n        };\n      }\n    };\n\n    // Refresh residency status (can be called manually)\n    const refreshingStatus = ref(false);\n    const refreshResidencyStatus = async () => {\n      if (refreshingStatus.value) return; // Prevent multiple simultaneous refreshes\n\n      console.log('Refreshing residency verification status...');\n      refreshingStatus.value = true;\n      try {\n        await loadResidencyStatus();\n        // Show a brief success message if status changed\n        if (residencyStatus.value.canRequestDocuments) {\n          console.log('✅ Residency verification approved! You can now request documents.');\n        }\n      } finally {\n        refreshingStatus.value = false;\n      }\n    };\n\n    // Computed property for document request availability\n    const canRequestDocuments = computed(() => {\n      return isAccountActive.value && residencyStatus.value.canRequestDocuments;\n    });\n\n    // Computed property for status message\n    const statusMessage = computed(() => {\n      if (!isAccountActive.value) {\n        return 'Account verification required';\n      }\n      return residencyStatus.value.message;\n    });\n\n    // Set up periodic residency status check\n    let statusCheckInterval = null;\n\n    // Initialize data on mount\n    onMounted(async () => {\n      try {\n        await Promise.all([loadUserData(), loadDocumentTypes(), loadUserStats(), loadResidencyStatus()]);\n\n        // Set up periodic check for residency status updates (every 30 seconds)\n        // This helps catch status changes made by admins\n        statusCheckInterval = setInterval(async () => {\n          if (residencyStatus.value.status === 'pending') {\n            console.log('Checking for residency status updates...');\n            await loadResidencyStatus();\n          }\n        }, 30000); // Check every 30 seconds\n      } catch (error) {\n        handleError(error, 'Failed to initialize page data');\n      }\n    });\n\n    // Cleanup on unmount\n    onUnmounted(() => {\n      if (statusCheckInterval) {\n        clearInterval(statusCheckInterval);\n      }\n    });\n    // Event handlers\n    const handleSidebarToggle = () => {\n      toggleSidebar();\n    };\n    const handleUserDropdownToggle = () => {\n      toggleUserDropdown();\n    };\n    const handleMenuAction = action => {\n      navigateToRoute(action);\n    };\n    const handleLogout = async () => {\n      try {\n        // Import the auth service\n        const unifiedAuthService = await import('@/services/unifiedAuthService');\n\n        // Clear authentication data\n        unifiedAuthService.default.logout();\n\n        // Reset user data\n        resetUserData();\n\n        // Clear any cached data\n        localStorage.clear();\n        sessionStorage.clear();\n\n        // Redirect to welcome page\n        await router.push({\n          name: 'WelcomePage'\n        });\n\n        // Force page reload to ensure clean state\n        window.location.reload();\n      } catch (error) {\n        console.error('Logout error:', error);\n        handleError(error, 'Logout failed');\n\n        // Force redirect even if there's an error\n        window.location.href = '/login';\n      }\n    };\n    const handleSearch = query => {\n      // TODO: Implement search functionality\n      console.log('Search query:', query);\n    };\n\n    // Navigation methods\n    const scrollToServices = async () => {\n      await nextTick();\n      scrollToElement(servicesSection.value);\n    };\n    const goToMyRequests = () => {\n      router.push({\n        name: 'MyRequests'\n      });\n    };\n    const goToTransactions = () => {\n      router.push({\n        name: 'ClientTransactions'\n      });\n    };\n    const goToProfile = () => {\n      router.push({\n        name: 'ClientProfile'\n      });\n    };\n\n    // Help Dialog Functions\n    const openHelp = () => {\n      showHelpDialog.value = true;\n    };\n    const closeDialog = () => {\n      showHelpDialog.value = false;\n    };\n    const handleOpenFAQ = () => {\n      // TODO: Navigate to FAQ page or open FAQ modal\n      console.log('Opening FAQ...');\n    };\n    const handleContactSupport = () => {\n      // TODO: Implement contact support functionality\n      console.log('Contacting support...');\n    };\n    const contactSupport = () => {\n      handleContactSupport();\n    };\n    const selectDocumentType = documentType => {\n      if (!documentType.is_active) return;\n      const routeMap = {\n        'Barangay Clearance': 'BarangayClearanceRequest',\n        'Cedula': 'CedulaRequest'\n      };\n      const routeName = routeMap[documentType.type_name];\n      if (routeName) {\n        router.push({\n          name: routeName,\n          params: {\n            documentTypeId: documentType.id\n          }\n        });\n      }\n    };\n    return {\n      // Refs\n      servicesSection,\n      // Reactive data\n      userData,\n      documentTypes,\n      userStats,\n      uiState,\n      loading,\n      error,\n      // Computed\n      headerUserData,\n      headerUIState,\n      isAccountActive,\n      canRequestDocuments,\n      statusMessage,\n      // Residency status\n      residencyStatus,\n      refreshingStatus,\n      // Methods\n      handleSidebarToggle,\n      handleUserDropdownToggle,\n      handleMenuAction,\n      handleLogout,\n      handleError,\n      handleSearch,\n      scrollToServices,\n      goToMyRequests,\n      goToTransactions,\n      goToProfile,\n      openHelp,\n      closeDialog,\n      handleOpenFAQ,\n      handleContactSupport,\n      contactSupport,\n      selectDocumentType,\n      loadResidencyStatus,\n      refreshResidencyStatus,\n      // Help Dialog Data\n      showHelpDialog,\n      helpData,\n      loadDocumentTypes\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","onUnmounted","nextTick","useRouter","ClientHeader","DocumentServicesSection","useUserData","useDocumentTypes","useUserStats","useUIState","useNavigation","useErrorHandler","name","components","setup","router","servicesSection","showHelpDialog","helpData","requirements","id","text","processSteps","number","title","description","userData","loadUserData","resetUserData","documentTypes","loading","error","loadDocumentTypes","userStats","loadUserStats","uiState","toggleSidebar","toggleUserDropdown","navigateToRoute","scrollToElement","handleError","headerUserData","console","log","Object","keys","result","userName","userEmail","userAvatar","firstName","lastName","middleName","suffix","profile","headerUIState","showUserDropdown","sidebarCollapsed","activeMenu","isAccountActive","unifiedAuthService","require","default","currentUser","getCurrentUser","isAccountVerified","status","residencyStatus","canRequestDocuments","message","documents","loadResidencyStatus","residencyVerificationService","getResidencyVerificationStatus","value","refreshingStatus","refreshResidencyStatus","statusMessage","statusCheckInterval","Promise","all","setInterval","clearInterval","handleSidebarToggle","handleUserDropdownToggle","handleMenuAction","action","handleLogout","logout","localStorage","clear","sessionStorage","push","window","location","reload","href","handleSearch","query","scrollToServices","goToMyRequests","goToTransactions","goToProfile","openHelp","closeDialog","handleOpenFAQ","handleContactSupport","contactSupport","selectDocumentType","documentType","is_active","routeMap","routeName","type_name","params","documentTypeId"],"sources":["D:\\brgy_docu_hub\\BOSFDR\\src\\components\\client\\NewDocumentRequest.vue"],"sourcesContent":["<template>\n  <div class=\"document-request-page\">\n    <!-- Background -->\n    <!-- <div class=\"background-container\">\n      <div class=\"background-image\" role=\"presentation\"></div>\n      <div class=\"background-overlay\" role=\"presentation\"></div>\n    </div> -->\n\n    <!-- Page Content Wrapper -->\n    <div class=\"page-content-wrapper\">\n\n    <!-- Client Header with Navigation -->\n    <ClientHeader\n      :user-data=\"headerUserData\"\n      :ui-state=\"headerUIState\"\n      :show-breadcrumbs=\"true\"\n      :can-request-documents=\"canRequestDocuments\"\n      @sidebar-toggle=\"handleSidebarToggle\"\n      @user-dropdown-toggle=\"handleUserDropdownToggle\"\n      @menu-action=\"handleMenuAction\"\n      @logout=\"handleLogout\"\n      @error=\"handleError\"\n      @search=\"handleSearch\"\n    />\n\n    <!-- Main Content -->\n    <main class=\"main-content\" :class=\"{ 'sidebar-collapsed': uiState.sidebarCollapsed }\">\n\n      <!-- Document Services Section -->\n      <DocumentServicesSection\n        ref=\"servicesSection\"\n        :document-types=\"documentTypes\"\n        :loading=\"loading\"\n        :error=\"error\"\n        :can-request-documents=\"canRequestDocuments\"\n        :status-message=\"statusMessage\"\n        :refreshing-status=\"refreshingStatus\"\n        @select-document=\"selectDocumentType\"\n        @retry-load=\"loadDocumentTypes\"\n        @open-faq=\"openHelp\"\n        @contact-support=\"contactSupport\"\n        @refresh-status=\"refreshResidencyStatus\"\n      />\n\n      <!-- Quick Actions Section -->\n      <section class=\"quick-actions-section\">\n        <div class=\"container\">\n          <div class=\"quick-actions-grid\" style=\"display: flex; gap: 1rem;\">\n            <button\n              class=\"action-btn my-requests-btn\"\n              @click=\"goToMyRequests\"\n              :disabled=\"loading || !canRequestDocuments\"\n              :class=\"{ 'disabled': !canRequestDocuments }\"\n            >\n              <div class=\"action-icon\">\n                <i class=\"fas fa-clock\" aria-hidden=\"true\"></i>\n              </div>\n              <div class=\"action-content\">\n                <h3 class=\"action-title\">My Requests</h3>\n                <p class=\"action-description\" v-if=\"canRequestDocuments\">View and track your document requests</p>\n                <p class=\"action-description\" v-else>{{ statusMessage }}</p>\n              </div>\n              <div class=\"action-arrow\">\n                <i class=\"fas fa-chevron-right\" aria-hidden=\"true\"></i>\n              </div>\n            </button>\n\n            <button\n              class=\"action-btn transactions-btn\"\n              @click=\"goToTransactions\"\n              :disabled=\"loading || !canRequestDocuments\"\n              :class=\"{ 'disabled': !canRequestDocuments }\"\n            >\n              <div class=\"action-icon\">\n                <i class=\"fas fa-receipt\" aria-hidden=\"true\"></i>\n              </div>\n              <div class=\"action-content\">\n                <h3 class=\"action-title\">Online Transactions</h3>\n                <p class=\"action-description\" v-if=\"canRequestDocuments\">View your payment receipts and transaction history</p>\n                <p class=\"action-description\" v-else>{{ statusMessage }}</p>\n              </div>\n              <div class=\"action-arrow\">\n                <i class=\"fas fa-chevron-right\" aria-hidden=\"true\"></i>\n              </div>\n            </button>\n          </div>\n        </div>\n      </section>\n\n    </main>\n\n    <!-- Help & Information Footer -->\n    <footer class=\"page-footer\">\n      <div class=\"container\">\n        <div class=\"footer-content\">\n          <div class=\"footer-info\">\n            <h4 class=\"footer-title\">Need Help Getting Started?</h4>\n            <p class=\"footer-description\">Learn about requirements, process steps, and get support for your document requests.</p>\n          </div>\n          <div class=\"footer-actions\">\n            <button class=\"help-btn\" @click=\"openHelp\">\n              <i class=\"fas fa-question-circle\" aria-hidden=\"true\"></i>\n              <span>View Requirements & Process</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </footer>\n    </div>\n\n    <!-- Help Dialog Modal -->\n    <div v-if=\"showHelpDialog\" class=\"dialog-overlay\" @click=\"closeDialog\">\n      <div class=\"dialog-content\" @click.stop>\n        <div class=\"dialog-header\">\n          <h3 class=\"dialog-title\">Document Services Information</h3>\n          <button class=\"dialog-close\" @click=\"closeDialog\" aria-label=\"Close dialog\">\n            <i class=\"fas fa-times\" aria-hidden=\"true\"></i>\n          </button>\n        </div>\n        \n        <div class=\"dialog-body\">\n          <div class=\"help-sections\">\n            <!-- Requirements Section -->\n            <div class=\"help-section\">\n              <div class=\"section-header\">\n                <i class=\"fas fa-clipboard-list\" aria-hidden=\"true\"></i>\n                <h4>Before You Start</h4>\n              </div>\n              <ul class=\"requirements-list\">\n                <li v-for=\"requirement in helpData.requirements\" :key=\"requirement.id\" class=\"requirement-item\">\n                  <i class=\"fas fa-check-circle\" aria-hidden=\"true\"></i>\n                  <span>{{ requirement.text }}</span>\n                </li>\n              </ul>\n            </div>\n\n            <!-- Process Steps Section -->\n            <div class=\"help-section\">\n              <div class=\"section-header\">\n                <i class=\"fas fa-route\" aria-hidden=\"true\"></i>\n                <h4>How It Works</h4>\n              </div>\n              <ol class=\"process-steps\">\n                <li v-for=\"step in helpData.processSteps\" :key=\"step.number\" class=\"process-step\">\n                  <div class=\"step-number\">{{ step.number }}</div>\n                  <div class=\"step-content\">\n                    <strong>{{ step.title }}</strong>\n                    <span>{{ step.description }}</span>\n                  </div>\n                </li>\n              </ol>\n            </div>\n\n            <!-- Support Section -->\n            <!-- <div class=\"help-section\">\n              <div class=\"section-header\">\n                <i class=\"fas fa-headset\" aria-hidden=\"true\"></i>\n                <h4>Need Assistance?</h4>\n              </div>\n              <p class=\"support-description\">Our support team is here to help you with any questions about document requirements or the application process.</p>\n              <div class=\"support-actions\">\n                <button class=\"support-action-btn faq-btn\" @click=\"handleOpenFAQ\">\n                  <i class=\"fas fa-question-circle\" aria-hidden=\"true\"></i>\n                  <span>View FAQ</span>\n                </button>\n                <button class=\"support-action-btn contact-btn\" @click=\"handleContactSupport\">\n                  <i class=\"fas fa-phone\" aria-hidden=\"true\"></i>\n                  <span>Contact Support</span>\n                </button>\n              </div>\n            </div>-->\n            \n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted, onUnmounted, nextTick } from 'vue'\nimport { useRouter } from 'vue-router'\nimport ClientHeader from './ClientHeader.vue'\n\nimport DocumentServicesSection from './components/DocumentServicesSection.vue'\nimport { useUserData } from '@/composables/useUserData'\nimport { useDocumentTypes } from '@/composables/useDocumentTypes'\nimport { useUserStats } from '@/composables/useUserStats'\nimport { useUIState } from '@/composables/useUIState'\nimport { useNavigation } from '@/composables/useNavigation'\nimport { useErrorHandler } from '@/composables/useErrorHandler'\n\nexport default {\n  name: 'NewDocumentRequest',\n  components: {\n    ClientHeader,\n    DocumentServicesSection\n  },\n  setup() {\n    const router = useRouter()\n    const servicesSection = ref(null)\n\n    // Help Dialog State\n    const showHelpDialog = ref(false)\n\n    // Help Data\n    const helpData = ref({\n      requirements: [\n        { id: 1, text: 'Valid government-issued ID (original and photocopy)' },\n        { id: 2, text: 'Proof of residency (utility bill, lease agreement, etc.)' },\n        { id: 3, text: 'Completed application form with accurate information' },\n        { id: 4, text: 'Payment for processing fees' },\n        { id: 5, text: 'Additional documents as specified for each document type' }\n      ],\n      processSteps: [\n        {\n          number: 1,\n          title: 'Choose Document Type',\n          description: 'Select the document you need from the available services'\n        },\n        {\n          number: 2,\n          title: 'Fill Application Form',\n          description: 'Complete all required fields with accurate information'\n        },\n        {\n          number: 3,\n          title: 'Upload Requirements',\n          description: 'Attach all necessary documents and supporting files'\n        },\n        {\n          number: 4,\n          title: 'Submit & Pay',\n          description: 'Review your application and proceed with payment'\n        },\n        {\n          number: 5,\n          title: 'Track Progress',\n          description: 'Monitor your request status and receive notifications'\n        },\n        {\n          number: 6,\n          title: 'Collect Document',\n          description: 'Pick up your processed document at the barangay office'\n        }\n      ]\n    })\n\n    // Composables\n    const { userData, loadUserData, resetUserData } = useUserData()\n    const { documentTypes, loading, error, loadDocumentTypes } = useDocumentTypes()\n    const { userStats, loadUserStats } = useUserStats()\n    const { uiState, toggleSidebar, toggleUserDropdown } = useUIState()\n    const { navigateToRoute, scrollToElement } = useNavigation()\n    const { handleError } = useErrorHandler()\n\n    // Computed properties for header\n    const headerUserData = computed(() => {\n      console.log('=== NewDocumentRequest - userData from composable ===');\n      console.log('userData:', userData);\n      console.log('userData keys:', Object.keys(userData));\n\n      const result = {\n        userName: userData.userName,\n        userEmail: userData.userEmail,\n        userAvatar: userData.userAvatar,\n        firstName: userData.firstName,\n        lastName: userData.lastName,\n        middleName: userData.middleName,\n        suffix: userData.suffix,\n        profile: userData.profile\n      };\n\n      console.log('headerUserData result:', result);\n      return result;\n    })\n\n    const headerUIState = computed(() => ({\n      showUserDropdown: uiState.showUserDropdown,\n      sidebarCollapsed: uiState.sidebarCollapsed,\n      activeMenu: 'services'\n    }))\n\n    // Account status computed property\n    const isAccountActive = computed(() => {\n      const unifiedAuthService = require('@/services/unifiedAuthService').default;\n      const currentUser = unifiedAuthService.getCurrentUser();\n\n      // Check if account is verified (OTP/email verification)\n      const isAccountVerified = currentUser?.status === 'active';\n\n      // For document requests, we need to check residency verification status\n      // If user has pending residency verification, they should still be able to request documents\n      // Only block if account is not verified at all\n      return isAccountVerified;\n    })\n\n    // Residency verification status\n    const residencyStatus = ref({\n      status: 'loading',\n      canRequestDocuments: false,\n      message: 'Checking residency verification status...',\n      documents: []\n    })\n\n    // Load residency verification status\n    const loadResidencyStatus = async () => {\n      try {\n        const residencyVerificationService = require('@/services/residencyVerificationService').default;\n        const status = await residencyVerificationService.getResidencyVerificationStatus();\n        residencyStatus.value = status;\n      } catch (error) {\n        console.error('Error loading residency status:', error);\n        residencyStatus.value = {\n          status: 'error',\n          canRequestDocuments: false,\n          message: 'Unable to check residency verification status',\n          documents: []\n        };\n      }\n    }\n\n    // Refresh residency status (can be called manually)\n    const refreshingStatus = ref(false);\n    const refreshResidencyStatus = async () => {\n      if (refreshingStatus.value) return; // Prevent multiple simultaneous refreshes\n\n      console.log('Refreshing residency verification status...');\n      refreshingStatus.value = true;\n      try {\n        await loadResidencyStatus();\n        // Show a brief success message if status changed\n        if (residencyStatus.value.canRequestDocuments) {\n          console.log('✅ Residency verification approved! You can now request documents.');\n        }\n      } finally {\n        refreshingStatus.value = false;\n      }\n    }\n\n    // Computed property for document request availability\n    const canRequestDocuments = computed(() => {\n      return isAccountActive.value && residencyStatus.value.canRequestDocuments;\n    })\n\n    // Computed property for status message\n    const statusMessage = computed(() => {\n      if (!isAccountActive.value) {\n        return 'Account verification required';\n      }\n      return residencyStatus.value.message;\n    })\n\n    // Set up periodic residency status check\n    let statusCheckInterval = null;\n\n    // Initialize data on mount\n    onMounted(async () => {\n      try {\n        await Promise.all([\n          loadUserData(),\n          loadDocumentTypes(),\n          loadUserStats(),\n          loadResidencyStatus()\n        ])\n\n        // Set up periodic check for residency status updates (every 30 seconds)\n        // This helps catch status changes made by admins\n        statusCheckInterval = setInterval(async () => {\n          if (residencyStatus.value.status === 'pending') {\n            console.log('Checking for residency status updates...');\n            await loadResidencyStatus();\n          }\n        }, 30000); // Check every 30 seconds\n\n      } catch (error) {\n        handleError(error, 'Failed to initialize page data')\n      }\n    })\n\n    // Cleanup on unmount\n    onUnmounted(() => {\n      if (statusCheckInterval) {\n        clearInterval(statusCheckInterval);\n      }\n    })\n    // Event handlers\n    const handleSidebarToggle = () => {\n      toggleSidebar()\n    }\n\n    const handleUserDropdownToggle = () => {\n      toggleUserDropdown()\n    }\n\n    const handleMenuAction = (action) => {\n      navigateToRoute(action)\n    }\n\n    const handleLogout = async () => {\n      try {\n        // Import the auth service\n        const unifiedAuthService = await import('@/services/unifiedAuthService')\n\n        // Clear authentication data\n        unifiedAuthService.default.logout()\n\n        // Reset user data\n        resetUserData()\n\n        // Clear any cached data\n        localStorage.clear()\n        sessionStorage.clear()\n\n        // Redirect to welcome page\n        await router.push({ name: 'WelcomePage' })\n\n        // Force page reload to ensure clean state\n        window.location.reload()\n\n      } catch (error) {\n        console.error('Logout error:', error)\n        handleError(error, 'Logout failed')\n\n        // Force redirect even if there's an error\n        window.location.href = '/login'\n      }\n    }\n\n    const handleSearch = (query) => {\n      // TODO: Implement search functionality\n      console.log('Search query:', query)\n    }\n\n    // Navigation methods\n    const scrollToServices = async () => {\n      await nextTick()\n      scrollToElement(servicesSection.value)\n    }\n\n    const goToMyRequests = () => {\n      router.push({ name: 'MyRequests' })\n    }\n\n    const goToTransactions = () => {\n      router.push({ name: 'ClientTransactions' })\n    }\n\n    const goToProfile = () => {\n      router.push({ name: 'ClientProfile' })\n    }\n\n    // Help Dialog Functions\n    const openHelp = () => {\n      showHelpDialog.value = true\n    }\n\n    const closeDialog = () => {\n      showHelpDialog.value = false\n    }\n\n    const handleOpenFAQ = () => {\n      // TODO: Navigate to FAQ page or open FAQ modal\n      console.log('Opening FAQ...')\n    }\n\n    const handleContactSupport = () => {\n      // TODO: Implement contact support functionality\n      console.log('Contacting support...')\n    }\n\n    const contactSupport = () => {\n      handleContactSupport()\n    }\n\n    const selectDocumentType = (documentType) => {\n      if (!documentType.is_active) return\n\n      const routeMap = {\n        'Barangay Clearance': 'BarangayClearanceRequest',\n        'Cedula': 'CedulaRequest'\n      }\n\n      const routeName = routeMap[documentType.type_name]\n      if (routeName) {\n        router.push({\n          name: routeName,\n          params: { documentTypeId: documentType.id }\n        })\n      }\n    }\n\n    return {\n      // Refs\n      servicesSection,\n\n      // Reactive data\n      userData,\n      documentTypes,\n      userStats,\n      uiState,\n      loading,\n      error,\n\n      // Computed\n      headerUserData,\n      headerUIState,\n      isAccountActive,\n      canRequestDocuments,\n      statusMessage,\n\n      // Residency status\n      residencyStatus,\n      refreshingStatus,\n\n      // Methods\n      handleSidebarToggle,\n      handleUserDropdownToggle,\n      handleMenuAction,\n      handleLogout,\n      handleError,\n      handleSearch,\n      scrollToServices,\n      goToMyRequests,\n      goToTransactions,\n      goToProfile,\n      openHelp,\n      closeDialog,\n      handleOpenFAQ,\n      handleContactSupport,\n      contactSupport,\n      selectDocumentType,\n      loadResidencyStatus,\n      refreshResidencyStatus,\n\n      // Help Dialog Data\n      showHelpDialog,\n      helpData,\n\n      loadDocumentTypes\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Modern Document Request Page Layout */\n.document-request-page {\n  font-family: var(--font-family-sans, 'Source Sans Pro', system-ui, sans-serif);\n  color: var(--color-text, #1e293b);\n  line-height: 1.6;\n  min-height: 100vh;\n  position: relative;\n}\n\n.page-content-wrapper {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  z-index: 1;\n}\n\n/* Background Setup */\n.background-container {\n  position: fixed;\n  inset: 0;\n  z-index: -2;\n}\n\n.background-image {\n  width: 100%;\n  height: 100%;\n  background-image: url('@/assets/bula-request-background-pic.png');\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  opacity: 0.4;\n}\n\n.background-overlay {\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(\n    135deg,\n    rgba(0, 94, 162, 0.6) 0%,\n    rgba(35, 120, 195, 0.5) 50%,\n    rgba(0, 94, 162, 0.6) 100%\n  );\n  z-index: -1;\n}\n\n/* Main Content */\n.main-content {\n  margin-top: 140px; /* Account for fixed header */\n  transition: margin-left 0.2s ease-in-out;\n  padding: 2rem 0;\n  position: relative;\n  z-index: 1;\n  flex: 1; /* Take up available space */\n}\n\n/* Quick Actions Section */\n.quick-actions-section {\n  padding: 2rem 0;\n  position: relative;\n  z-index: 1;\n}\n\n.quick-actions-grid {\n  display: flex;\n  justify-content: center;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 1rem;\n}\n\n.action-btn {\n  background: rgba(255, 255, 255, 0.98);\n  backdrop-filter: blur(15px);\n  border: 2px solid rgba(0, 94, 162, 0.3);\n  border-radius: 1.25rem;\n  padding: 2rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 1.5rem;\n  box-shadow: 0 8px 32px rgba(0, 94, 162, 0.15);\n  text-align: left;\n  min-width: 350px;\n  max-width: 500px;\n}\n\n.action-btn:hover:not(:disabled) {\n  border-color: var(--gov-blue, #005ea2);\n  transform: translateY(-8px);\n  box-shadow: 0 16px 40px rgba(0, 94, 162, 0.25);\n  background: rgba(255, 255, 255, 1);\n}\n\n.action-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.transactions-btn .action-icon {\n  background: linear-gradient(135deg, #667eea, #764ba2);\n}\n\n.transactions-btn:hover:not(:disabled) .action-icon {\n  background: linear-gradient(135deg, #5a67d8, #6b46c1);\n}\n\n.action-icon {\n  flex-shrink: 0;\n  width: 4rem;\n  height: 4rem;\n  background: linear-gradient(135deg, var(--gov-blue, #005ea2), var(--gov-blue-light, #2378c3));\n  border-radius: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 1.5rem;\n  box-shadow: 0 4px 15px rgba(0, 94, 162, 0.3);\n}\n\n.action-content {\n  flex: 1;\n}\n\n.action-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--gov-blue, #005ea2);\n  margin-bottom: 0.5rem;\n}\n\n.action-description {\n  color: var(--text-secondary, #454545);\n  margin: 0;\n  line-height: 1.5;\n}\n\n.action-arrow {\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  color: #d1d5db;\n  font-size: 1.25rem;\n}\n\n.main-content.sidebar-collapsed {\n  margin-left: 0;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .main-content {\n    margin-top: 120px;\n    padding-bottom: 2rem;\n  }\n\n  .action-btn {\n    flex-direction: column;\n    text-align: center;\n    padding: 1.5rem;\n    min-width: auto;\n    max-width: none;\n    width: 100%;\n  }\n\n  .quick-actions-grid {\n    padding: 0 1rem;\n  }\n}\n\n/* Accessibility */\n@media (prefers-reduced-motion: reduce) {\n  .main-content {\n    transition: none;\n  }\n}\n\n/* Focus styles for better accessibility */\n:focus-visible {\n  outline: 3px solid var(--gov-yellow, #ffbe2e);\n  outline-offset: 2px;\n}\n\n/* Page Footer Styles */\n.page-footer {\n  margin-top: auto;\n  padding: 2rem 0;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(15px);\n  -webkit-backdrop-filter: blur(15px);\n  border-top: 1px solid rgba(255, 255, 255, 0.3);\n  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);\n  position: relative;\n  z-index: 2;\n}\n\n.footer-content {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 1rem;\n}\n\n.footer-info {\n  flex: 1;\n}\n\n.footer-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: #1e293b;\n  margin-bottom: 0.5rem;\n  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);\n}\n\n.footer-description {\n  color: #64748b;\n  margin: 0;\n  line-height: 1.5;\n  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);\n}\n\n.footer-actions {\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n  flex-shrink: 0;\n}\n\n.help-btn,\n.support-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  border-radius: 0.5rem;\n  font-weight: 500;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  border: none;\n  text-decoration: none;\n  white-space: nowrap;\n}\n\n.help-btn {\n  background: #3b82f6;\n  color: white;\n  box-shadow: 0 2px 4px rgba(59, 130, 246, 0.2);\n}\n\n.help-btn:hover {\n  background: #2563eb;\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n}\n\n.support-btn {\n  background: rgba(255, 255, 255, 0.9);\n  color: #64748b;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.support-btn:hover {\n  background: rgba(255, 255, 255, 1);\n  color: #1e293b;\n  border-color: rgba(255, 255, 255, 0.8);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n\n/* Responsive Footer Design */\n@media (max-width: 768px) {\n  .page-footer {\n    padding: 1.5rem 0;\n  }\n\n  .footer-content {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1.5rem;\n    padding: 0 1rem;\n  }\n\n  .footer-actions {\n    width: 100%;\n    justify-content: stretch;\n  }\n\n  .help-btn,\n  .support-btn {\n    flex: 1;\n    justify-content: center;\n  }\n}\n\n@media (max-width: 480px) {\n  .footer-actions {\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n\n  .help-btn,\n  .support-btn {\n    width: 100%;\n  }\n}\n\n/* Help Dialog Modal Styles */\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 1rem;\n  animation: fadeIn 0.2s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.dialog-content {\n  background: white;\n  border-radius: 1rem;\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n  max-width: 800px;\n  width: 100%;\n  max-height: 90vh;\n  overflow: hidden;\n  animation: slideUp 0.3s ease-out;\n}\n\n@keyframes slideUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.dialog-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1.5rem 2rem;\n  border-bottom: 1px solid #e2e8f0;\n  background: #f8fafc;\n}\n\n.dialog-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: #1e293b;\n  margin: 0;\n}\n\n.dialog-close {\n  background: none;\n  border: none;\n  color: #64748b;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 0.375rem;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.dialog-close:hover {\n  background: #e2e8f0;\n  color: #1e293b;\n}\n\n.dialog-body {\n  padding: 2rem;\n  overflow-y: auto;\n  max-height: calc(90vh - 120px);\n}\n\n.help-sections {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n.help-section {\n  background: #f8fafc;\n  border-radius: 0.75rem;\n  padding: 1.5rem;\n  border: 1px solid #e2e8f0;\n}\n\n.section-header {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  margin-bottom: 1rem;\n}\n\n.section-header i {\n  color: #3b82f6;\n  font-size: 1.25rem;\n}\n\n.section-header h4 {\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #1e293b;\n  margin: 0;\n}\n\n.requirements-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.requirement-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: white;\n  border-radius: 0.5rem;\n  border: 1px solid #e2e8f0;\n}\n\n.requirement-item i {\n  color: #10b981;\n  font-size: 1rem;\n  margin-top: 0.125rem;\n  flex-shrink: 0;\n}\n\n.requirement-item span {\n  color: #374151;\n  line-height: 1.5;\n}\n\n.process-steps {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.process-step {\n  display: flex;\n  gap: 1rem;\n  padding: 1rem;\n  background: white;\n  border-radius: 0.5rem;\n  border: 1px solid #e2e8f0;\n}\n\n.step-number {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 2rem;\n  height: 2rem;\n  background: #3b82f6;\n  color: white;\n  border-radius: 50%;\n  font-weight: 600;\n  font-size: 0.875rem;\n  flex-shrink: 0;\n}\n\n.step-content {\n  flex: 1;\n}\n\n.step-content strong {\n  display: block;\n  color: #1e293b;\n  font-weight: 600;\n  margin-bottom: 0.25rem;\n}\n\n.step-content span {\n  color: #64748b;\n  line-height: 1.5;\n}\n\n.support-description {\n  color: #64748b;\n  line-height: 1.6;\n  margin-bottom: 1.5rem;\n}\n\n.support-actions {\n  display: flex;\n  gap: 1rem;\n  flex-wrap: wrap;\n}\n\n.support-action-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  border-radius: 0.5rem;\n  font-weight: 500;\n  font-size: 0.875rem;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  border: none;\n  text-decoration: none;\n}\n\n.faq-btn {\n  background: #f3f4f6;\n  color: #374151;\n  border: 1px solid #d1d5db;\n}\n\n.faq-btn:hover {\n  background: #e5e7eb;\n  color: #1f2937;\n  transform: translateY(-1px);\n}\n\n.contact-btn {\n  background: #3b82f6;\n  color: white;\n}\n\n.contact-btn:hover {\n  background: #2563eb;\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n}\n\n/* Responsive Dialog Design */\n@media (max-width: 768px) {\n  .dialog-content {\n    margin: 1rem;\n    max-height: calc(100vh - 2rem);\n  }\n\n  .dialog-header {\n    padding: 1rem 1.5rem;\n  }\n\n  .dialog-body {\n    padding: 1.5rem;\n    max-height: calc(100vh - 140px);\n  }\n\n  .help-sections {\n    gap: 1.5rem;\n  }\n\n  .help-section {\n    padding: 1rem;\n  }\n\n  .support-actions {\n    flex-direction: column;\n  }\n\n  .support-action-btn {\n    justify-content: center;\n  }\n}\n\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}